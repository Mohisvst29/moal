(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Me=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _h(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Ru={exports:{}},Xs={},Au={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ln=Symbol.for("react.element"),kh=Symbol.for("react.portal"),Sh=Symbol.for("react.fragment"),jh=Symbol.for("react.strict_mode"),bh=Symbol.for("react.profiler"),Eh=Symbol.for("react.provider"),Nh=Symbol.for("react.context"),Ch=Symbol.for("react.forward_ref"),Ph=Symbol.for("react.suspense"),Th=Symbol.for("react.memo"),Oh=Symbol.for("react.lazy"),oa=Symbol.iterator;function Ih(t){return t===null||typeof t!="object"?null:(t=oa&&t[oa]||t["@@iterator"],typeof t=="function"?t:null)}var Lu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zu=Object.assign,Uu={};function zr(t,e,r){this.props=t,this.context=e,this.refs=Uu,this.updater=r||Lu}zr.prototype.isReactComponent={};zr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Du(){}Du.prototype=zr.prototype;function ll(t,e,r){this.props=t,this.context=e,this.refs=Uu,this.updater=r||Lu}var al=ll.prototype=new Du;al.constructor=ll;zu(al,zr.prototype);al.isPureReactComponent=!0;var la=Array.isArray,Mu=Object.prototype.hasOwnProperty,ul={current:null},Fu={key:!0,ref:!0,__self:!0,__source:!0};function Bu(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Mu.call(e,n)&&!Fu.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ln,type:t,key:i,ref:o,props:s,_owner:ul.current}}function $h(t,e){return{$$typeof:Ln,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ln}function Rh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var aa=/\/+/g;function ki(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Rh(""+t.key):e.toString(36)}function ps(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ln:case kh:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+ki(o,0):n,la(s)?(r="",t!=null&&(r=t.replace(aa,"$&/")+"/"),ps(s,e,r,"",function(u){return u})):s!=null&&(cl(s)&&(s=$h(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(aa,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",la(t))for(var l=0;l<t.length;l++){i=t[l];var a=n+ki(i,l);o+=ps(i,e,r,a,s)}else if(a=Ih(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=n+ki(i,l++),o+=ps(i,e,r,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function qn(t,e,r){if(t==null)return t;var n=[],s=0;return ps(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Ah(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xe={current:null},ms={transition:null},Lh={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:ms,ReactCurrentOwner:ul};function Vu(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:qn,forEach:function(t,e,r){qn(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return qn(t,function(){e++}),e},toArray:function(t){return qn(t,function(e){return e})||[]},only:function(t){if(!cl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Component=zr;U.Fragment=Sh;U.Profiler=bh;U.PureComponent=ll;U.StrictMode=jh;U.Suspense=Ph;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lh;U.act=Vu;U.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=zu({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ul.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Mu.call(e,a)&&!Fu.hasOwnProperty(a)&&(n[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)n.children=r;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ln,type:t.type,key:s,ref:i,props:n,_owner:o}};U.createContext=function(t){return t={$$typeof:Nh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Eh,_context:t},t.Consumer=t};U.createElement=Bu;U.createFactory=function(t){var e=Bu.bind(null,t);return e.type=t,e};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:Ch,render:t}};U.isValidElement=cl;U.lazy=function(t){return{$$typeof:Oh,_payload:{_status:-1,_result:t},_init:Ah}};U.memo=function(t,e){return{$$typeof:Th,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=ms.transition;ms.transition={};try{t()}finally{ms.transition=e}};U.unstable_act=Vu;U.useCallback=function(t,e){return xe.current.useCallback(t,e)};U.useContext=function(t){return xe.current.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t){return xe.current.useDeferredValue(t)};U.useEffect=function(t,e){return xe.current.useEffect(t,e)};U.useId=function(){return xe.current.useId()};U.useImperativeHandle=function(t,e,r){return xe.current.useImperativeHandle(t,e,r)};U.useInsertionEffect=function(t,e){return xe.current.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return xe.current.useLayoutEffect(t,e)};U.useMemo=function(t,e){return xe.current.useMemo(t,e)};U.useReducer=function(t,e,r){return xe.current.useReducer(t,e,r)};U.useRef=function(t){return xe.current.useRef(t)};U.useState=function(t){return xe.current.useState(t)};U.useSyncExternalStore=function(t,e,r){return xe.current.useSyncExternalStore(t,e,r)};U.useTransition=function(){return xe.current.useTransition()};U.version="18.3.1";Au.exports=U;var A=Au.exports;const zh=xh(A);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uh=A,Dh=Symbol.for("react.element"),Mh=Symbol.for("react.fragment"),Fh=Object.prototype.hasOwnProperty,Bh=Uh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vh={key:!0,ref:!0,__self:!0,__source:!0};function Wu(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Fh.call(e,n)&&!Vh.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Dh,type:t,key:i,ref:o,props:s,_owner:Bh.current}}Xs.Fragment=Mh;Xs.jsx=Wu;Xs.jsxs=Wu;Ru.exports=Xs;var c=Ru.exports,Hu={exports:{}},$e={},qu={exports:{}},Ku={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,R){var L=T.length;T.push(R);e:for(;0<L;){var X=L-1>>>1,oe=T[X];if(0<s(oe,R))T[X]=R,T[L]=oe,L=X;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var R=T[0],L=T.pop();if(L!==R){T[0]=L;e:for(var X=0,oe=T.length,Wn=oe>>>1;X<Wn;){var Dt=2*(X+1)-1,_i=T[Dt],Mt=Dt+1,Hn=T[Mt];if(0>s(_i,L))Mt<oe&&0>s(Hn,_i)?(T[X]=Hn,T[Mt]=L,X=Mt):(T[X]=_i,T[Dt]=L,X=Dt);else if(Mt<oe&&0>s(Hn,L))T[X]=Hn,T[Mt]=L,X=Mt;else break e}}return R}function s(T,R){var L=T.sortIndex-R.sortIndex;return L!==0?L:T.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],d=1,h=null,m=3,y=!1,x=!1,_=!1,N=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(T){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=T)n(u),R.sortIndex=R.expirationTime,e(a,R);else break;R=r(u)}}function v(T){if(_=!1,f(T),!x)if(r(a)!==null)x=!0,Ae(k);else{var R=r(u);R!==null&&Br(v,R.startTime-T)}}function k(T,R){x=!1,_&&(_=!1,g(w),w=-1),y=!0;var L=m;try{for(f(R),h=r(a);h!==null&&(!(h.expirationTime>R)||T&&!I());){var X=h.callback;if(typeof X=="function"){h.callback=null,m=h.priorityLevel;var oe=X(h.expirationTime<=R);R=t.unstable_now(),typeof oe=="function"?h.callback=oe:h===r(a)&&n(a),f(R)}else n(a);h=r(a)}if(h!==null)var Wn=!0;else{var Dt=r(u);Dt!==null&&Br(v,Dt.startTime-R),Wn=!1}return Wn}finally{h=null,m=L,y=!1}}var j=!1,P=null,w=-1,S=5,C=-1;function I(){return!(t.unstable_now()-C<S)}function Y(){if(P!==null){var T=t.unstable_now();C=T;var R=!0;try{R=P(!0,T)}finally{R?te():(j=!1,P=null)}}else j=!1}var te;if(typeof p=="function")te=function(){p(Y)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,b=ie.port2;ie.port1.onmessage=Y,te=function(){b.postMessage(null)}}else te=function(){N(Y,0)};function Ae(T){P=T,j||(j=!0,te())}function Br(T,R){w=N(function(){T(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,Ae(k))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(a)},t.unstable_next=function(T){switch(m){case 1:case 2:case 3:var R=3;break;default:R=m}var L=m;m=R;try{return T()}finally{m=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,R){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var L=m;m=T;try{return R()}finally{m=L}},t.unstable_scheduleCallback=function(T,R,L){var X=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?X+L:X):L=X,T){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=L+oe,T={id:d++,callback:R,priorityLevel:T,startTime:L,expirationTime:oe,sortIndex:-1},L>X?(T.sortIndex=L,e(u,T),r(a)===null&&T===r(u)&&(_?(g(w),w=-1):_=!0,Br(v,L-X))):(T.sortIndex=oe,e(a,T),x||y||(x=!0,Ae(k))),T},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(T){var R=m;return function(){var L=m;m=R;try{return T.apply(this,arguments)}finally{m=L}}}})(Ku);qu.exports=Ku;var Wh=qu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hh=A,Ie=Wh;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qu=new Set,yn={};function rr(t,e){Pr(t,e),Pr(t+"Capture",e)}function Pr(t,e){for(yn[t]=e,t=0;t<e.length;t++)Qu.add(e[t])}var ct=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),io=Object.prototype.hasOwnProperty,qh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ua={},ca={};function Kh(t){return io.call(ca,t)?!0:io.call(ua,t)?!1:qh.test(t)?ca[t]=!0:(ua[t]=!0,!1)}function Qh(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Gh(t,e,r,n){if(e===null||typeof e>"u"||Qh(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _e(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var he={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){he[t]=new _e(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];he[e]=new _e(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){he[t]=new _e(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){he[t]=new _e(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){he[t]=new _e(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){he[t]=new _e(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){he[t]=new _e(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){he[t]=new _e(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){he[t]=new _e(t,5,!1,t.toLowerCase(),null,!1,!1)});var dl=/[\-:]([a-z])/g;function hl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dl,hl);he[e]=new _e(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dl,hl);he[e]=new _e(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dl,hl);he[e]=new _e(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){he[t]=new _e(t,1,!1,t.toLowerCase(),null,!1,!1)});he.xlinkHref=new _e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){he[t]=new _e(t,1,!1,t.toLowerCase(),null,!0,!0)});function fl(t,e,r,n){var s=he.hasOwnProperty(e)?he[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Gh(e,r,s,n)&&(r=null),n||s===null?Kh(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var pt=Hh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kn=Symbol.for("react.element"),dr=Symbol.for("react.portal"),hr=Symbol.for("react.fragment"),pl=Symbol.for("react.strict_mode"),oo=Symbol.for("react.profiler"),Gu=Symbol.for("react.provider"),Ju=Symbol.for("react.context"),ml=Symbol.for("react.forward_ref"),lo=Symbol.for("react.suspense"),ao=Symbol.for("react.suspense_list"),gl=Symbol.for("react.memo"),vt=Symbol.for("react.lazy"),Yu=Symbol.for("react.offscreen"),da=Symbol.iterator;function Vr(t){return t===null||typeof t!="object"?null:(t=da&&t[da]||t["@@iterator"],typeof t=="function"?t:null)}var Q=Object.assign,Si;function Xr(t){if(Si===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Si=e&&e[1]||""}return`
`+Si+t}var ji=!1;function bi(t,e){if(!t||ji)return"";ji=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{ji=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Xr(t):""}function Jh(t){switch(t.tag){case 5:return Xr(t.type);case 16:return Xr("Lazy");case 13:return Xr("Suspense");case 19:return Xr("SuspenseList");case 0:case 2:case 15:return t=bi(t.type,!1),t;case 11:return t=bi(t.type.render,!1),t;case 1:return t=bi(t.type,!0),t;default:return""}}function uo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case hr:return"Fragment";case dr:return"Portal";case oo:return"Profiler";case pl:return"StrictMode";case lo:return"Suspense";case ao:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ju:return(t.displayName||"Context")+".Consumer";case Gu:return(t._context.displayName||"Context")+".Provider";case ml:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gl:return e=t.displayName||null,e!==null?e:uo(t.type)||"Memo";case vt:e=t._payload,t=t._init;try{return uo(t(e))}catch{}}return null}function Yh(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uo(e);case 8:return e===pl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $t(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xu(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Xh(t){var e=Xu(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qn(t){t._valueTracker||(t._valueTracker=Xh(t))}function Zu(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Xu(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Es(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function co(t,e){var r=e.checked;return Q({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function ha(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=$t(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ec(t,e){e=e.checked,e!=null&&fl(t,"checked",e,!1)}function ho(t,e){ec(t,e);var r=$t(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fo(t,e.type,r):e.hasOwnProperty("defaultValue")&&fo(t,e.type,$t(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fa(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function fo(t,e,r){(e!=="number"||Es(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Zr=Array.isArray;function Sr(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+$t(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function po(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return Q({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pa(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(E(92));if(Zr(r)){if(1<r.length)throw Error(E(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:$t(r)}}function tc(t,e){var r=$t(e.value),n=$t(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function ma(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gn,nc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Gn=Gn||document.createElement("div"),Gn.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var nn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zh=["Webkit","ms","Moz","O"];Object.keys(nn).forEach(function(t){Zh.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),nn[e]=nn[t]})});function sc(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||nn.hasOwnProperty(t)&&nn[t]?(""+e).trim():e+"px"}function ic(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=sc(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var ef=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function go(t,e){if(e){if(ef[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function vo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yo=null;function vl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wo=null,jr=null,br=null;function ga(t){if(t=Dn(t)){if(typeof wo!="function")throw Error(E(280));var e=t.stateNode;e&&(e=ni(e),wo(t.stateNode,t.type,e))}}function oc(t){jr?br?br.push(t):br=[t]:jr=t}function lc(){if(jr){var t=jr,e=br;if(br=jr=null,ga(t),e)for(t=0;t<e.length;t++)ga(e[t])}}function ac(t,e){return t(e)}function uc(){}var Ei=!1;function cc(t,e,r){if(Ei)return t(e,r);Ei=!0;try{return ac(t,e,r)}finally{Ei=!1,(jr!==null||br!==null)&&(uc(),lc())}}function xn(t,e){var r=t.stateNode;if(r===null)return null;var n=ni(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(E(231,e,typeof r));return r}var xo=!1;if(ct)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){xo=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{xo=!1}function tf(t,e,r,n,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var sn=!1,Ns=null,Cs=!1,_o=null,rf={onError:function(t){sn=!0,Ns=t}};function nf(t,e,r,n,s,i,o,l,a){sn=!1,Ns=null,tf.apply(rf,arguments)}function sf(t,e,r,n,s,i,o,l,a){if(nf.apply(this,arguments),sn){if(sn){var u=Ns;sn=!1,Ns=null}else throw Error(E(198));Cs||(Cs=!0,_o=u)}}function nr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function dc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function va(t){if(nr(t)!==t)throw Error(E(188))}function of(t){var e=t.alternate;if(!e){if(e=nr(t),e===null)throw Error(E(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return va(s),t;if(i===n)return va(s),e;i=i.sibling}throw Error(E(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?t:e}function hc(t){return t=of(t),t!==null?fc(t):null}function fc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=fc(t);if(e!==null)return e;t=t.sibling}return null}var pc=Ie.unstable_scheduleCallback,ya=Ie.unstable_cancelCallback,lf=Ie.unstable_shouldYield,af=Ie.unstable_requestPaint,Z=Ie.unstable_now,uf=Ie.unstable_getCurrentPriorityLevel,yl=Ie.unstable_ImmediatePriority,mc=Ie.unstable_UserBlockingPriority,Ps=Ie.unstable_NormalPriority,cf=Ie.unstable_LowPriority,gc=Ie.unstable_IdlePriority,Zs=null,tt=null;function df(t){if(tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(Zs,t,void 0,(t.current.flags&128)===128)}catch{}}var Ge=Math.clz32?Math.clz32:pf,hf=Math.log,ff=Math.LN2;function pf(t){return t>>>=0,t===0?32:31-(hf(t)/ff|0)|0}var Jn=64,Yn=4194304;function en(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ts(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=en(l):(i&=o,i!==0&&(n=en(i)))}else o=r&~s,o!==0?n=en(o):i!==0&&(n=en(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ge(e),s=1<<r,n|=t[r],e&=~s;return n}function mf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gf(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Ge(i),l=1<<o,a=s[o];a===-1?(!(l&r)||l&n)&&(s[o]=mf(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function ko(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vc(){var t=Jn;return Jn<<=1,!(Jn&4194240)&&(Jn=64),t}function Ni(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function zn(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ge(e),t[e]=r}function vf(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Ge(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function wl(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ge(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var M=0;function yc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wc,xl,xc,_c,kc,So=!1,Xn=[],bt=null,Et=null,Nt=null,_n=new Map,kn=new Map,xt=[],yf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wa(t,e){switch(t){case"focusin":case"focusout":bt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":_n.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kn.delete(e.pointerId)}}function Hr(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Dn(e),e!==null&&xl(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function wf(t,e,r,n,s){switch(e){case"focusin":return bt=Hr(bt,t,e,r,n,s),!0;case"dragenter":return Et=Hr(Et,t,e,r,n,s),!0;case"mouseover":return Nt=Hr(Nt,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return _n.set(i,Hr(_n.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,kn.set(i,Hr(kn.get(i)||null,t,e,r,n,s)),!0}return!1}function Sc(t){var e=qt(t.target);if(e!==null){var r=nr(e);if(r!==null){if(e=r.tag,e===13){if(e=dc(r),e!==null){t.blockedOn=e,kc(t.priority,function(){xc(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=jo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);yo=n,r.target.dispatchEvent(n),yo=null}else return e=Dn(r),e!==null&&xl(e),t.blockedOn=r,!1;e.shift()}return!0}function xa(t,e,r){gs(t)&&r.delete(e)}function xf(){So=!1,bt!==null&&gs(bt)&&(bt=null),Et!==null&&gs(Et)&&(Et=null),Nt!==null&&gs(Nt)&&(Nt=null),_n.forEach(xa),kn.forEach(xa)}function qr(t,e){t.blockedOn===e&&(t.blockedOn=null,So||(So=!0,Ie.unstable_scheduleCallback(Ie.unstable_NormalPriority,xf)))}function Sn(t){function e(s){return qr(s,t)}if(0<Xn.length){qr(Xn[0],t);for(var r=1;r<Xn.length;r++){var n=Xn[r];n.blockedOn===t&&(n.blockedOn=null)}}for(bt!==null&&qr(bt,t),Et!==null&&qr(Et,t),Nt!==null&&qr(Nt,t),_n.forEach(e),kn.forEach(e),r=0;r<xt.length;r++)n=xt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<xt.length&&(r=xt[0],r.blockedOn===null);)Sc(r),r.blockedOn===null&&xt.shift()}var Er=pt.ReactCurrentBatchConfig,Os=!0;function _f(t,e,r,n){var s=M,i=Er.transition;Er.transition=null;try{M=1,_l(t,e,r,n)}finally{M=s,Er.transition=i}}function kf(t,e,r,n){var s=M,i=Er.transition;Er.transition=null;try{M=4,_l(t,e,r,n)}finally{M=s,Er.transition=i}}function _l(t,e,r,n){if(Os){var s=jo(t,e,r,n);if(s===null)zi(t,e,n,Is,r),wa(t,n);else if(wf(s,t,e,r,n))n.stopPropagation();else if(wa(t,n),e&4&&-1<yf.indexOf(t)){for(;s!==null;){var i=Dn(s);if(i!==null&&wc(i),i=jo(t,e,r,n),i===null&&zi(t,e,n,Is,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else zi(t,e,n,null,r)}}var Is=null;function jo(t,e,r,n){if(Is=null,t=vl(n),t=qt(t),t!==null)if(e=nr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=dc(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Is=t,null}function jc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uf()){case yl:return 1;case mc:return 4;case Ps:case cf:return 16;case gc:return 536870912;default:return 16}default:return 16}}var St=null,kl=null,vs=null;function bc(){if(vs)return vs;var t,e=kl,r=e.length,n,s="value"in St?St.value:St.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return vs=s.slice(t,1<n?1-n:void 0)}function ys(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zn(){return!0}function _a(){return!1}function Re(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Zn:_a,this.isPropagationStopped=_a,this}return Q(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),e}var Ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sl=Re(Ur),Un=Q({},Ur,{view:0,detail:0}),Sf=Re(Un),Ci,Pi,Kr,ei=Q({},Un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kr&&(Kr&&t.type==="mousemove"?(Ci=t.screenX-Kr.screenX,Pi=t.screenY-Kr.screenY):Pi=Ci=0,Kr=t),Ci)},movementY:function(t){return"movementY"in t?t.movementY:Pi}}),ka=Re(ei),jf=Q({},ei,{dataTransfer:0}),bf=Re(jf),Ef=Q({},Un,{relatedTarget:0}),Ti=Re(Ef),Nf=Q({},Ur,{animationName:0,elapsedTime:0,pseudoElement:0}),Cf=Re(Nf),Pf=Q({},Ur,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tf=Re(Pf),Of=Q({},Ur,{data:0}),Sa=Re(Of),If={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$f={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Af(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Rf[t])?!!e[t]:!1}function jl(){return Af}var Lf=Q({},Un,{key:function(t){if(t.key){var e=If[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ys(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$f[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jl,charCode:function(t){return t.type==="keypress"?ys(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ys(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zf=Re(Lf),Uf=Q({},ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ja=Re(Uf),Df=Q({},Un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jl}),Mf=Re(Df),Ff=Q({},Ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bf=Re(Ff),Vf=Q({},ei,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Wf=Re(Vf),Hf=[9,13,27,32],bl=ct&&"CompositionEvent"in window,on=null;ct&&"documentMode"in document&&(on=document.documentMode);var qf=ct&&"TextEvent"in window&&!on,Ec=ct&&(!bl||on&&8<on&&11>=on),ba=" ",Ea=!1;function Nc(t,e){switch(t){case"keyup":return Hf.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fr=!1;function Kf(t,e){switch(t){case"compositionend":return Cc(e);case"keypress":return e.which!==32?null:(Ea=!0,ba);case"textInput":return t=e.data,t===ba&&Ea?null:t;default:return null}}function Qf(t,e){if(fr)return t==="compositionend"||!bl&&Nc(t,e)?(t=bc(),vs=kl=St=null,fr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ec&&e.locale!=="ko"?null:e.data;default:return null}}var Gf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Na(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Gf[t.type]:e==="textarea"}function Pc(t,e,r,n){oc(n),e=$s(e,"onChange"),0<e.length&&(r=new Sl("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ln=null,jn=null;function Jf(t){Mc(t,0)}function ti(t){var e=gr(t);if(Zu(e))return t}function Yf(t,e){if(t==="change")return e}var Tc=!1;if(ct){var Oi;if(ct){var Ii="oninput"in document;if(!Ii){var Ca=document.createElement("div");Ca.setAttribute("oninput","return;"),Ii=typeof Ca.oninput=="function"}Oi=Ii}else Oi=!1;Tc=Oi&&(!document.documentMode||9<document.documentMode)}function Pa(){ln&&(ln.detachEvent("onpropertychange",Oc),jn=ln=null)}function Oc(t){if(t.propertyName==="value"&&ti(jn)){var e=[];Pc(e,jn,t,vl(t)),cc(Jf,e)}}function Xf(t,e,r){t==="focusin"?(Pa(),ln=e,jn=r,ln.attachEvent("onpropertychange",Oc)):t==="focusout"&&Pa()}function Zf(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ti(jn)}function ep(t,e){if(t==="click")return ti(e)}function tp(t,e){if(t==="input"||t==="change")return ti(e)}function rp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ye=typeof Object.is=="function"?Object.is:rp;function bn(t,e){if(Ye(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!io.call(e,s)||!Ye(t[s],e[s]))return!1}return!0}function Ta(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Oa(t,e){var r=Ta(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ta(r)}}function Ic(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ic(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $c(){for(var t=window,e=Es();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Es(t.document)}return e}function El(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function np(t){var e=$c(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Ic(r.ownerDocument.documentElement,r)){if(n!==null&&El(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Oa(r,i);var o=Oa(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sp=ct&&"documentMode"in document&&11>=document.documentMode,pr=null,bo=null,an=null,Eo=!1;function Ia(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Eo||pr==null||pr!==Es(n)||(n=pr,"selectionStart"in n&&El(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),an&&bn(an,n)||(an=n,n=$s(bo,"onSelect"),0<n.length&&(e=new Sl("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=pr)))}function es(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var mr={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionend:es("Transition","TransitionEnd")},$i={},Rc={};ct&&(Rc=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function ri(t){if($i[t])return $i[t];if(!mr[t])return t;var e=mr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Rc)return $i[t]=e[r];return t}var Ac=ri("animationend"),Lc=ri("animationiteration"),zc=ri("animationstart"),Uc=ri("transitionend"),Dc=new Map,$a="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function At(t,e){Dc.set(t,e),rr(e,[t])}for(var Ri=0;Ri<$a.length;Ri++){var Ai=$a[Ri],ip=Ai.toLowerCase(),op=Ai[0].toUpperCase()+Ai.slice(1);At(ip,"on"+op)}At(Ac,"onAnimationEnd");At(Lc,"onAnimationIteration");At(zc,"onAnimationStart");At("dblclick","onDoubleClick");At("focusin","onFocus");At("focusout","onBlur");At(Uc,"onTransitionEnd");Pr("onMouseEnter",["mouseout","mouseover"]);Pr("onMouseLeave",["mouseout","mouseover"]);Pr("onPointerEnter",["pointerout","pointerover"]);Pr("onPointerLeave",["pointerout","pointerover"]);rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rr("onBeforeInput",["compositionend","keypress","textInput","paste"]);rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lp=new Set("cancel close invalid load scroll toggle".split(" ").concat(tn));function Ra(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,sf(n,e,void 0,t),t.currentTarget=null}function Mc(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Ra(s,l,u),i=a}else for(o=0;o<n.length;o++){if(l=n[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Ra(s,l,u),i=a}}}if(Cs)throw t=_o,Cs=!1,_o=null,t}function V(t,e){var r=e[Oo];r===void 0&&(r=e[Oo]=new Set);var n=t+"__bubble";r.has(n)||(Fc(e,t,2,!1),r.add(n))}function Li(t,e,r){var n=0;e&&(n|=4),Fc(r,t,n,e)}var ts="_reactListening"+Math.random().toString(36).slice(2);function En(t){if(!t[ts]){t[ts]=!0,Qu.forEach(function(r){r!=="selectionchange"&&(lp.has(r)||Li(r,!1,t),Li(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ts]||(e[ts]=!0,Li("selectionchange",!1,e))}}function Fc(t,e,r,n){switch(jc(e)){case 1:var s=_f;break;case 4:s=kf;break;default:s=_l}r=s.bind(null,e,r,t),s=void 0,!xo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function zi(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=qt(l),o===null)return;if(a=o.tag,a===5||a===6){n=i=o;continue e}l=l.parentNode}}n=n.return}cc(function(){var u=i,d=vl(r),h=[];e:{var m=Dc.get(t);if(m!==void 0){var y=Sl,x=t;switch(t){case"keypress":if(ys(r)===0)break e;case"keydown":case"keyup":y=zf;break;case"focusin":x="focus",y=Ti;break;case"focusout":x="blur",y=Ti;break;case"beforeblur":case"afterblur":y=Ti;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=ka;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=bf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Mf;break;case Ac:case Lc:case zc:y=Cf;break;case Uc:y=Bf;break;case"scroll":y=Sf;break;case"wheel":y=Wf;break;case"copy":case"cut":case"paste":y=Tf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=ja}var _=(e&4)!==0,N=!_&&t==="scroll",g=_?m!==null?m+"Capture":null:m;_=[];for(var p=u,f;p!==null;){f=p;var v=f.stateNode;if(f.tag===5&&v!==null&&(f=v,g!==null&&(v=xn(p,g),v!=null&&_.push(Nn(p,v,f)))),N)break;p=p.return}0<_.length&&(m=new y(m,x,null,r,d),h.push({event:m,listeners:_}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&r!==yo&&(x=r.relatedTarget||r.fromElement)&&(qt(x)||x[dt]))break e;if((y||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,y?(x=r.relatedTarget||r.toElement,y=u,x=x?qt(x):null,x!==null&&(N=nr(x),x!==N||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=u),y!==x)){if(_=ka,v="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(_=ja,v="onPointerLeave",g="onPointerEnter",p="pointer"),N=y==null?m:gr(y),f=x==null?m:gr(x),m=new _(v,p+"leave",y,r,d),m.target=N,m.relatedTarget=f,v=null,qt(d)===u&&(_=new _(g,p+"enter",x,r,d),_.target=f,_.relatedTarget=N,v=_),N=v,y&&x)t:{for(_=y,g=x,p=0,f=_;f;f=ir(f))p++;for(f=0,v=g;v;v=ir(v))f++;for(;0<p-f;)_=ir(_),p--;for(;0<f-p;)g=ir(g),f--;for(;p--;){if(_===g||g!==null&&_===g.alternate)break t;_=ir(_),g=ir(g)}_=null}else _=null;y!==null&&Aa(h,m,y,_,!1),x!==null&&N!==null&&Aa(h,N,x,_,!0)}}e:{if(m=u?gr(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var k=Yf;else if(Na(m))if(Tc)k=tp;else{k=Zf;var j=Xf}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(k=ep);if(k&&(k=k(t,u))){Pc(h,k,r,d);break e}j&&j(t,m,u),t==="focusout"&&(j=m._wrapperState)&&j.controlled&&m.type==="number"&&fo(m,"number",m.value)}switch(j=u?gr(u):window,t){case"focusin":(Na(j)||j.contentEditable==="true")&&(pr=j,bo=u,an=null);break;case"focusout":an=bo=pr=null;break;case"mousedown":Eo=!0;break;case"contextmenu":case"mouseup":case"dragend":Eo=!1,Ia(h,r,d);break;case"selectionchange":if(sp)break;case"keydown":case"keyup":Ia(h,r,d)}var P;if(bl)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else fr?Nc(t,r)&&(w="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(w="onCompositionStart");w&&(Ec&&r.locale!=="ko"&&(fr||w!=="onCompositionStart"?w==="onCompositionEnd"&&fr&&(P=bc()):(St=d,kl="value"in St?St.value:St.textContent,fr=!0)),j=$s(u,w),0<j.length&&(w=new Sa(w,t,null,r,d),h.push({event:w,listeners:j}),P?w.data=P:(P=Cc(r),P!==null&&(w.data=P)))),(P=qf?Kf(t,r):Qf(t,r))&&(u=$s(u,"onBeforeInput"),0<u.length&&(d=new Sa("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=P))}Mc(h,e)})}function Nn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function $s(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=xn(t,r),i!=null&&n.unshift(Nn(t,i,s)),i=xn(t,e),i!=null&&n.push(Nn(t,i,s))),t=t.return}return n}function ir(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Aa(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var l=r,a=l.alternate,u=l.stateNode;if(a!==null&&a===n)break;l.tag===5&&u!==null&&(l=u,s?(a=xn(r,i),a!=null&&o.unshift(Nn(r,a,l))):s||(a=xn(r,i),a!=null&&o.push(Nn(r,a,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var ap=/\r\n?/g,up=/\u0000|\uFFFD/g;function La(t){return(typeof t=="string"?t:""+t).replace(ap,`
`).replace(up,"")}function rs(t,e,r){if(e=La(e),La(t)!==e&&r)throw Error(E(425))}function Rs(){}var No=null,Co=null;function Po(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var To=typeof setTimeout=="function"?setTimeout:void 0,cp=typeof clearTimeout=="function"?clearTimeout:void 0,za=typeof Promise=="function"?Promise:void 0,dp=typeof queueMicrotask=="function"?queueMicrotask:typeof za<"u"?function(t){return za.resolve(null).then(t).catch(hp)}:To;function hp(t){setTimeout(function(){throw t})}function Ui(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Sn(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Sn(e)}function Ct(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ua(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Dr=Math.random().toString(36).slice(2),et="__reactFiber$"+Dr,Cn="__reactProps$"+Dr,dt="__reactContainer$"+Dr,Oo="__reactEvents$"+Dr,fp="__reactListeners$"+Dr,pp="__reactHandles$"+Dr;function qt(t){var e=t[et];if(e)return e;for(var r=t.parentNode;r;){if(e=r[dt]||r[et]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Ua(t);t!==null;){if(r=t[et])return r;t=Ua(t)}return e}t=r,r=t.parentNode}return null}function Dn(t){return t=t[et]||t[dt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function ni(t){return t[Cn]||null}var Io=[],vr=-1;function Lt(t){return{current:t}}function W(t){0>vr||(t.current=Io[vr],Io[vr]=null,vr--)}function B(t,e){vr++,Io[vr]=t.current,t.current=e}var Rt={},ve=Lt(Rt),Ee=Lt(!1),Yt=Rt;function Tr(t,e){var r=t.type.contextTypes;if(!r)return Rt;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ne(t){return t=t.childContextTypes,t!=null}function As(){W(Ee),W(ve)}function Da(t,e,r){if(ve.current!==Rt)throw Error(E(168));B(ve,e),B(Ee,r)}function Bc(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(E(108,Yh(t)||"Unknown",s));return Q({},r,n)}function Ls(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rt,Yt=ve.current,B(ve,t),B(Ee,Ee.current),!0}function Ma(t,e,r){var n=t.stateNode;if(!n)throw Error(E(169));r?(t=Bc(t,e,Yt),n.__reactInternalMemoizedMergedChildContext=t,W(Ee),W(ve),B(ve,t)):W(Ee),B(Ee,r)}var ot=null,si=!1,Di=!1;function Vc(t){ot===null?ot=[t]:ot.push(t)}function mp(t){si=!0,Vc(t)}function zt(){if(!Di&&ot!==null){Di=!0;var t=0,e=M;try{var r=ot;for(M=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ot=null,si=!1}catch(s){throw ot!==null&&(ot=ot.slice(t+1)),pc(yl,zt),s}finally{M=e,Di=!1}}return null}var yr=[],wr=0,zs=null,Us=0,Le=[],ze=0,Xt=null,lt=1,at="";function Bt(t,e){yr[wr++]=Us,yr[wr++]=zs,zs=t,Us=e}function Wc(t,e,r){Le[ze++]=lt,Le[ze++]=at,Le[ze++]=Xt,Xt=t;var n=lt;t=at;var s=32-Ge(n)-1;n&=~(1<<s),r+=1;var i=32-Ge(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,lt=1<<32-Ge(e)+s|r<<s|n,at=i+t}else lt=1<<i|r<<s|n,at=t}function Nl(t){t.return!==null&&(Bt(t,1),Wc(t,1,0))}function Cl(t){for(;t===zs;)zs=yr[--wr],yr[wr]=null,Us=yr[--wr],yr[wr]=null;for(;t===Xt;)Xt=Le[--ze],Le[ze]=null,at=Le[--ze],Le[ze]=null,lt=Le[--ze],Le[ze]=null}var Oe=null,Te=null,H=!1,Qe=null;function Hc(t,e){var r=Ue(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Fa(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Oe=t,Te=Ct(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Oe=t,Te=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Xt!==null?{id:lt,overflow:at}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ue(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Oe=t,Te=null,!0):!1;default:return!1}}function $o(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ro(t){if(H){var e=Te;if(e){var r=e;if(!Fa(t,e)){if($o(t))throw Error(E(418));e=Ct(r.nextSibling);var n=Oe;e&&Fa(t,e)?Hc(n,r):(t.flags=t.flags&-4097|2,H=!1,Oe=t)}}else{if($o(t))throw Error(E(418));t.flags=t.flags&-4097|2,H=!1,Oe=t}}}function Ba(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Oe=t}function ns(t){if(t!==Oe)return!1;if(!H)return Ba(t),H=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Po(t.type,t.memoizedProps)),e&&(e=Te)){if($o(t))throw qc(),Error(E(418));for(;e;)Hc(t,e),e=Ct(e.nextSibling)}if(Ba(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Te=Ct(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Te=null}}else Te=Oe?Ct(t.stateNode.nextSibling):null;return!0}function qc(){for(var t=Te;t;)t=Ct(t.nextSibling)}function Or(){Te=Oe=null,H=!1}function Pl(t){Qe===null?Qe=[t]:Qe.push(t)}var gp=pt.ReactCurrentBatchConfig;function Qr(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,t))}return t}function ss(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Va(t){var e=t._init;return e(t._payload)}function Kc(t){function e(g,p){if(t){var f=g.deletions;f===null?(g.deletions=[p],g.flags|=16):f.push(p)}}function r(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=It(g,p),g.index=0,g.sibling=null,g}function i(g,p,f){return g.index=f,t?(f=g.alternate,f!==null?(f=f.index,f<p?(g.flags|=2,p):f):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,p,f,v){return p===null||p.tag!==6?(p=qi(f,g.mode,v),p.return=g,p):(p=s(p,f),p.return=g,p)}function a(g,p,f,v){var k=f.type;return k===hr?d(g,p,f.props.children,v,f.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===vt&&Va(k)===p.type)?(v=s(p,f.props),v.ref=Qr(g,p,f),v.return=g,v):(v=bs(f.type,f.key,f.props,null,g.mode,v),v.ref=Qr(g,p,f),v.return=g,v)}function u(g,p,f,v){return p===null||p.tag!==4||p.stateNode.containerInfo!==f.containerInfo||p.stateNode.implementation!==f.implementation?(p=Ki(f,g.mode,v),p.return=g,p):(p=s(p,f.children||[]),p.return=g,p)}function d(g,p,f,v,k){return p===null||p.tag!==7?(p=Jt(f,g.mode,v,k),p.return=g,p):(p=s(p,f),p.return=g,p)}function h(g,p,f){if(typeof p=="string"&&p!==""||typeof p=="number")return p=qi(""+p,g.mode,f),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Kn:return f=bs(p.type,p.key,p.props,null,g.mode,f),f.ref=Qr(g,null,p),f.return=g,f;case dr:return p=Ki(p,g.mode,f),p.return=g,p;case vt:var v=p._init;return h(g,v(p._payload),f)}if(Zr(p)||Vr(p))return p=Jt(p,g.mode,f,null),p.return=g,p;ss(g,p)}return null}function m(g,p,f,v){var k=p!==null?p.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return k!==null?null:l(g,p,""+f,v);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Kn:return f.key===k?a(g,p,f,v):null;case dr:return f.key===k?u(g,p,f,v):null;case vt:return k=f._init,m(g,p,k(f._payload),v)}if(Zr(f)||Vr(f))return k!==null?null:d(g,p,f,v,null);ss(g,f)}return null}function y(g,p,f,v,k){if(typeof v=="string"&&v!==""||typeof v=="number")return g=g.get(f)||null,l(p,g,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Kn:return g=g.get(v.key===null?f:v.key)||null,a(p,g,v,k);case dr:return g=g.get(v.key===null?f:v.key)||null,u(p,g,v,k);case vt:var j=v._init;return y(g,p,f,j(v._payload),k)}if(Zr(v)||Vr(v))return g=g.get(f)||null,d(p,g,v,k,null);ss(p,v)}return null}function x(g,p,f,v){for(var k=null,j=null,P=p,w=p=0,S=null;P!==null&&w<f.length;w++){P.index>w?(S=P,P=null):S=P.sibling;var C=m(g,P,f[w],v);if(C===null){P===null&&(P=S);break}t&&P&&C.alternate===null&&e(g,P),p=i(C,p,w),j===null?k=C:j.sibling=C,j=C,P=S}if(w===f.length)return r(g,P),H&&Bt(g,w),k;if(P===null){for(;w<f.length;w++)P=h(g,f[w],v),P!==null&&(p=i(P,p,w),j===null?k=P:j.sibling=P,j=P);return H&&Bt(g,w),k}for(P=n(g,P);w<f.length;w++)S=y(P,g,w,f[w],v),S!==null&&(t&&S.alternate!==null&&P.delete(S.key===null?w:S.key),p=i(S,p,w),j===null?k=S:j.sibling=S,j=S);return t&&P.forEach(function(I){return e(g,I)}),H&&Bt(g,w),k}function _(g,p,f,v){var k=Vr(f);if(typeof k!="function")throw Error(E(150));if(f=k.call(f),f==null)throw Error(E(151));for(var j=k=null,P=p,w=p=0,S=null,C=f.next();P!==null&&!C.done;w++,C=f.next()){P.index>w?(S=P,P=null):S=P.sibling;var I=m(g,P,C.value,v);if(I===null){P===null&&(P=S);break}t&&P&&I.alternate===null&&e(g,P),p=i(I,p,w),j===null?k=I:j.sibling=I,j=I,P=S}if(C.done)return r(g,P),H&&Bt(g,w),k;if(P===null){for(;!C.done;w++,C=f.next())C=h(g,C.value,v),C!==null&&(p=i(C,p,w),j===null?k=C:j.sibling=C,j=C);return H&&Bt(g,w),k}for(P=n(g,P);!C.done;w++,C=f.next())C=y(P,g,w,C.value,v),C!==null&&(t&&C.alternate!==null&&P.delete(C.key===null?w:C.key),p=i(C,p,w),j===null?k=C:j.sibling=C,j=C);return t&&P.forEach(function(Y){return e(g,Y)}),H&&Bt(g,w),k}function N(g,p,f,v){if(typeof f=="object"&&f!==null&&f.type===hr&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Kn:e:{for(var k=f.key,j=p;j!==null;){if(j.key===k){if(k=f.type,k===hr){if(j.tag===7){r(g,j.sibling),p=s(j,f.props.children),p.return=g,g=p;break e}}else if(j.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===vt&&Va(k)===j.type){r(g,j.sibling),p=s(j,f.props),p.ref=Qr(g,j,f),p.return=g,g=p;break e}r(g,j);break}else e(g,j);j=j.sibling}f.type===hr?(p=Jt(f.props.children,g.mode,v,f.key),p.return=g,g=p):(v=bs(f.type,f.key,f.props,null,g.mode,v),v.ref=Qr(g,p,f),v.return=g,g=v)}return o(g);case dr:e:{for(j=f.key;p!==null;){if(p.key===j)if(p.tag===4&&p.stateNode.containerInfo===f.containerInfo&&p.stateNode.implementation===f.implementation){r(g,p.sibling),p=s(p,f.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else e(g,p);p=p.sibling}p=Ki(f,g.mode,v),p.return=g,g=p}return o(g);case vt:return j=f._init,N(g,p,j(f._payload),v)}if(Zr(f))return x(g,p,f,v);if(Vr(f))return _(g,p,f,v);ss(g,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,p!==null&&p.tag===6?(r(g,p.sibling),p=s(p,f),p.return=g,g=p):(r(g,p),p=qi(f,g.mode,v),p.return=g,g=p),o(g)):r(g,p)}return N}var Ir=Kc(!0),Qc=Kc(!1),Ds=Lt(null),Ms=null,xr=null,Tl=null;function Ol(){Tl=xr=Ms=null}function Il(t){var e=Ds.current;W(Ds),t._currentValue=e}function Ao(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Nr(t,e){Ms=t,Tl=xr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(be=!0),t.firstContext=null)}function Fe(t){var e=t._currentValue;if(Tl!==t)if(t={context:t,memoizedValue:e,next:null},xr===null){if(Ms===null)throw Error(E(308));xr=t,Ms.dependencies={lanes:0,firstContext:t}}else xr=xr.next=t;return e}var Kt=null;function $l(t){Kt===null?Kt=[t]:Kt.push(t)}function Gc(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,$l(e)):(r.next=s.next,s.next=r),e.interleaved=r,ht(t,n)}function ht(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var yt=!1;function Rl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ut(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Pt(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,D&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,ht(t,r)}return s=n.interleaved,s===null?(e.next=e,$l(n)):(e.next=s.next,s.next=e),n.interleaved=e,ht(t,r)}function ws(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,wl(t,r)}}function Wa(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Fs(t,e,r,n){var s=t.updateQueue;yt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(i!==null){var h=s.baseState;o=0,d=u=a=null,l=i;do{var m=l.lane,y=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,_=l;switch(m=e,y=r,_.tag){case 1:if(x=_.payload,typeof x=="function"){h=x.call(y,h,m);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=_.payload,m=typeof x=="function"?x.call(y,h,m):x,m==null)break e;h=Q({},h,m);break e;case 2:yt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,a=h):d=d.next=y,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(a=h),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);er|=o,t.lanes=o,t.memoizedState=h}}function Ha(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(E(191,s));s.call(n)}}}var Mn={},rt=Lt(Mn),Pn=Lt(Mn),Tn=Lt(Mn);function Qt(t){if(t===Mn)throw Error(E(174));return t}function Al(t,e){switch(B(Tn,e),B(Pn,t),B(rt,Mn),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=mo(e,t)}W(rt),B(rt,e)}function $r(){W(rt),W(Pn),W(Tn)}function Yc(t){Qt(Tn.current);var e=Qt(rt.current),r=mo(e,t.type);e!==r&&(B(Pn,t),B(rt,r))}function Ll(t){Pn.current===t&&(W(rt),W(Pn))}var q=Lt(0);function Bs(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mi=[];function zl(){for(var t=0;t<Mi.length;t++)Mi[t]._workInProgressVersionPrimary=null;Mi.length=0}var xs=pt.ReactCurrentDispatcher,Fi=pt.ReactCurrentBatchConfig,Zt=0,K=null,ne=null,ae=null,Vs=!1,un=!1,On=0,vp=0;function fe(){throw Error(E(321))}function Ul(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ye(t[r],e[r]))return!1;return!0}function Dl(t,e,r,n,s,i){if(Zt=i,K=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xs.current=t===null||t.memoizedState===null?_p:kp,t=r(n,s),un){i=0;do{if(un=!1,On=0,25<=i)throw Error(E(301));i+=1,ae=ne=null,e.updateQueue=null,xs.current=Sp,t=r(n,s)}while(un)}if(xs.current=Ws,e=ne!==null&&ne.next!==null,Zt=0,ae=ne=K=null,Vs=!1,e)throw Error(E(300));return t}function Ml(){var t=On!==0;return On=0,t}function Ze(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ae===null?K.memoizedState=ae=t:ae=ae.next=t,ae}function Be(){if(ne===null){var t=K.alternate;t=t!==null?t.memoizedState:null}else t=ne.next;var e=ae===null?K.memoizedState:ae.next;if(e!==null)ae=e,ne=t;else{if(t===null)throw Error(E(310));ne=t,t={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},ae===null?K.memoizedState=ae=t:ae=ae.next=t}return ae}function In(t,e){return typeof e=="function"?e(t):e}function Bi(t){var e=Be(),r=e.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=t;var n=ne,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,a=null,u=i;do{var d=u.lane;if((Zt&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,o=n):a=a.next=h,K.lanes|=d,er|=d}u=u.next}while(u!==null&&u!==i);a===null?o=n:a.next=l,Ye(n,e.memoizedState)||(be=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=a,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,K.lanes|=i,er|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Vi(t){var e=Be(),r=e.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ye(i,e.memoizedState)||(be=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Xc(){}function Zc(t,e){var r=K,n=Be(),s=e(),i=!Ye(n.memoizedState,s);if(i&&(n.memoizedState=s,be=!0),n=n.queue,Fl(rd.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ae!==null&&ae.memoizedState.tag&1){if(r.flags|=2048,$n(9,td.bind(null,r,n,s,e),void 0,null),ue===null)throw Error(E(349));Zt&30||ed(r,e,s)}return s}function ed(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=K.updateQueue,e===null?(e={lastEffect:null,stores:null},K.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function td(t,e,r,n){e.value=r,e.getSnapshot=n,nd(e)&&sd(t)}function rd(t,e,r){return r(function(){nd(e)&&sd(t)})}function nd(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ye(t,r)}catch{return!0}}function sd(t){var e=ht(t,1);e!==null&&Je(e,t,1,-1)}function qa(t){var e=Ze();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:In,lastRenderedState:t},e.queue=t,t=t.dispatch=xp.bind(null,K,t),[e.memoizedState,t]}function $n(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=K.updateQueue,e===null?(e={lastEffect:null,stores:null},K.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function id(){return Be().memoizedState}function _s(t,e,r,n){var s=Ze();K.flags|=t,s.memoizedState=$n(1|e,r,void 0,n===void 0?null:n)}function ii(t,e,r,n){var s=Be();n=n===void 0?null:n;var i=void 0;if(ne!==null){var o=ne.memoizedState;if(i=o.destroy,n!==null&&Ul(n,o.deps)){s.memoizedState=$n(e,r,i,n);return}}K.flags|=t,s.memoizedState=$n(1|e,r,i,n)}function Ka(t,e){return _s(8390656,8,t,e)}function Fl(t,e){return ii(2048,8,t,e)}function od(t,e){return ii(4,2,t,e)}function ld(t,e){return ii(4,4,t,e)}function ad(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ud(t,e,r){return r=r!=null?r.concat([t]):null,ii(4,4,ad.bind(null,e,t),r)}function Bl(){}function cd(t,e){var r=Be();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ul(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function dd(t,e){var r=Be();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ul(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function hd(t,e,r){return Zt&21?(Ye(r,e)||(r=vc(),K.lanes|=r,er|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,be=!0),t.memoizedState=r)}function yp(t,e){var r=M;M=r!==0&&4>r?r:4,t(!0);var n=Fi.transition;Fi.transition={};try{t(!1),e()}finally{M=r,Fi.transition=n}}function fd(){return Be().memoizedState}function wp(t,e,r){var n=Ot(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},pd(t))md(e,r);else if(r=Gc(t,e,r,n),r!==null){var s=we();Je(r,t,n,s),gd(r,e,n)}}function xp(t,e,r){var n=Ot(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(pd(t))md(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Ye(l,o)){var a=e.interleaved;a===null?(s.next=s,$l(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}r=Gc(t,e,s,n),r!==null&&(s=we(),Je(r,t,n,s),gd(r,e,n))}}function pd(t){var e=t.alternate;return t===K||e!==null&&e===K}function md(t,e){un=Vs=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function gd(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,wl(t,r)}}var Ws={readContext:Fe,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useInsertionEffect:fe,useLayoutEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useMutableSource:fe,useSyncExternalStore:fe,useId:fe,unstable_isNewReconciler:!1},_p={readContext:Fe,useCallback:function(t,e){return Ze().memoizedState=[t,e===void 0?null:e],t},useContext:Fe,useEffect:Ka,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,_s(4194308,4,ad.bind(null,e,t),r)},useLayoutEffect:function(t,e){return _s(4194308,4,t,e)},useInsertionEffect:function(t,e){return _s(4,2,t,e)},useMemo:function(t,e){var r=Ze();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ze();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=wp.bind(null,K,t),[n.memoizedState,t]},useRef:function(t){var e=Ze();return t={current:t},e.memoizedState=t},useState:qa,useDebugValue:Bl,useDeferredValue:function(t){return Ze().memoizedState=t},useTransition:function(){var t=qa(!1),e=t[0];return t=yp.bind(null,t[1]),Ze().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=K,s=Ze();if(H){if(r===void 0)throw Error(E(407));r=r()}else{if(r=e(),ue===null)throw Error(E(349));Zt&30||ed(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Ka(rd.bind(null,n,i,t),[t]),n.flags|=2048,$n(9,td.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Ze(),e=ue.identifierPrefix;if(H){var r=at,n=lt;r=(n&~(1<<32-Ge(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=On++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=vp++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},kp={readContext:Fe,useCallback:cd,useContext:Fe,useEffect:Fl,useImperativeHandle:ud,useInsertionEffect:od,useLayoutEffect:ld,useMemo:dd,useReducer:Bi,useRef:id,useState:function(){return Bi(In)},useDebugValue:Bl,useDeferredValue:function(t){var e=Be();return hd(e,ne.memoizedState,t)},useTransition:function(){var t=Bi(In)[0],e=Be().memoizedState;return[t,e]},useMutableSource:Xc,useSyncExternalStore:Zc,useId:fd,unstable_isNewReconciler:!1},Sp={readContext:Fe,useCallback:cd,useContext:Fe,useEffect:Fl,useImperativeHandle:ud,useInsertionEffect:od,useLayoutEffect:ld,useMemo:dd,useReducer:Vi,useRef:id,useState:function(){return Vi(In)},useDebugValue:Bl,useDeferredValue:function(t){var e=Be();return ne===null?e.memoizedState=t:hd(e,ne.memoizedState,t)},useTransition:function(){var t=Vi(In)[0],e=Be().memoizedState;return[t,e]},useMutableSource:Xc,useSyncExternalStore:Zc,useId:fd,unstable_isNewReconciler:!1};function He(t,e){if(t&&t.defaultProps){e=Q({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Lo(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Q({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var oi={isMounted:function(t){return(t=t._reactInternals)?nr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=we(),s=Ot(t),i=ut(n,s);i.payload=e,r!=null&&(i.callback=r),e=Pt(t,i,s),e!==null&&(Je(e,t,s,n),ws(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=we(),s=Ot(t),i=ut(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Pt(t,i,s),e!==null&&(Je(e,t,s,n),ws(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=we(),n=Ot(t),s=ut(r,n);s.tag=2,e!=null&&(s.callback=e),e=Pt(t,s,n),e!==null&&(Je(e,t,n,r),ws(e,t,n))}};function Qa(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!bn(r,n)||!bn(s,i):!0}function vd(t,e,r){var n=!1,s=Rt,i=e.contextType;return typeof i=="object"&&i!==null?i=Fe(i):(s=Ne(e)?Yt:ve.current,n=e.contextTypes,i=(n=n!=null)?Tr(t,s):Rt),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=oi,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ga(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&oi.enqueueReplaceState(e,e.state,null)}function zo(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Rl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Fe(i):(i=Ne(e)?Yt:ve.current,s.context=Tr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Lo(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&oi.enqueueReplaceState(s,s.state,null),Fs(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Rr(t,e){try{var r="",n=e;do r+=Jh(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Wi(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Uo(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var jp=typeof WeakMap=="function"?WeakMap:Map;function yd(t,e,r){r=ut(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){qs||(qs=!0,Qo=n),Uo(t,e)},r}function wd(t,e,r){r=ut(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Uo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Uo(t,e),typeof n!="function"&&(Tt===null?Tt=new Set([this]):Tt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Ja(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new jp;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Up.bind(null,t,e,r),e.then(t,t))}function Ya(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Xa(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ut(-1,1),e.tag=2,Pt(r,e,1))),r.lanes|=1),t)}var bp=pt.ReactCurrentOwner,be=!1;function ye(t,e,r,n){e.child=t===null?Qc(e,null,r,n):Ir(e,t.child,r,n)}function Za(t,e,r,n,s){r=r.render;var i=e.ref;return Nr(e,s),n=Dl(t,e,r,n,i,s),r=Ml(),t!==null&&!be?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ft(t,e,s)):(H&&r&&Nl(e),e.flags|=1,ye(t,e,n,s),e.child)}function eu(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Jl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,xd(t,e,i,n,s)):(t=bs(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:bn,r(o,n)&&t.ref===e.ref)return ft(t,e,s)}return e.flags|=1,t=It(i,n),t.ref=e.ref,t.return=e,e.child=t}function xd(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(bn(i,n)&&t.ref===e.ref)if(be=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(be=!0);else return e.lanes=t.lanes,ft(t,e,s)}return Do(t,e,r,n,s)}function _d(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},B(kr,Pe),Pe|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,B(kr,Pe),Pe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,B(kr,Pe),Pe|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,B(kr,Pe),Pe|=n;return ye(t,e,s,r),e.child}function kd(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Do(t,e,r,n,s){var i=Ne(r)?Yt:ve.current;return i=Tr(e,i),Nr(e,s),r=Dl(t,e,r,n,i,s),n=Ml(),t!==null&&!be?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ft(t,e,s)):(H&&n&&Nl(e),e.flags|=1,ye(t,e,r,s),e.child)}function tu(t,e,r,n,s){if(Ne(r)){var i=!0;Ls(e)}else i=!1;if(Nr(e,s),e.stateNode===null)ks(t,e),vd(e,r,n),zo(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Fe(u):(u=Ne(r)?Yt:ve.current,u=Tr(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||a!==u)&&Ga(e,o,n,u),yt=!1;var m=e.memoizedState;o.state=m,Fs(e,n,o,s),a=e.memoizedState,l!==n||m!==a||Ee.current||yt?(typeof d=="function"&&(Lo(e,r,d,n),a=e.memoizedState),(l=yt||Qa(e,r,l,n,m,a,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=a),o.props=n,o.state=a,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Jc(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:He(e.type,l),o.props=u,h=e.pendingProps,m=o.context,a=r.contextType,typeof a=="object"&&a!==null?a=Fe(a):(a=Ne(r)?Yt:ve.current,a=Tr(e,a));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==a)&&Ga(e,o,n,a),yt=!1,m=e.memoizedState,o.state=m,Fs(e,n,o,s);var x=e.memoizedState;l!==h||m!==x||Ee.current||yt?(typeof y=="function"&&(Lo(e,r,y,n),x=e.memoizedState),(u=yt||Qa(e,r,u,n,m,x,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),o.props=n,o.state=x,o.context=a,n=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return Mo(t,e,r,n,i,s)}function Mo(t,e,r,n,s,i){kd(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Ma(e,r,!1),ft(t,e,i);n=e.stateNode,bp.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Ir(e,t.child,null,i),e.child=Ir(e,null,l,i)):ye(t,e,l,i),e.memoizedState=n.state,s&&Ma(e,r,!0),e.child}function Sd(t){var e=t.stateNode;e.pendingContext?Da(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Da(t,e.context,!1),Al(t,e.containerInfo)}function ru(t,e,r,n,s){return Or(),Pl(s),e.flags|=256,ye(t,e,r,n),e.child}var Fo={dehydrated:null,treeContext:null,retryLane:0};function Bo(t){return{baseLanes:t,cachePool:null,transitions:null}}function jd(t,e,r){var n=e.pendingProps,s=q.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),B(q,s&1),t===null)return Ro(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ui(o,n,0,null),t=Jt(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Bo(r),e.memoizedState=Fo,t):Vl(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Ep(t,e,o,n,l,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=a,e.deletions=null):(n=It(s,a),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=It(l,i):(i=Jt(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Bo(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Fo,n}return i=t.child,t=i.sibling,n=It(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Vl(t,e){return e=ui({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function is(t,e,r,n){return n!==null&&Pl(n),Ir(e,t.child,null,r),t=Vl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ep(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Wi(Error(E(422))),is(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=ui({mode:"visible",children:n.children},s,0,null),i=Jt(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Ir(e,t.child,null,o),e.child.memoizedState=Bo(o),e.memoizedState=Fo,i);if(!(e.mode&1))return is(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(E(419)),n=Wi(i,n,void 0),is(t,e,o,n)}if(l=(o&t.childLanes)!==0,be||l){if(n=ue,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ht(t,s),Je(n,t,s,-1))}return Gl(),n=Wi(Error(E(421))),is(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Dp.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Te=Ct(s.nextSibling),Oe=e,H=!0,Qe=null,t!==null&&(Le[ze++]=lt,Le[ze++]=at,Le[ze++]=Xt,lt=t.id,at=t.overflow,Xt=e),e=Vl(e,n.children),e.flags|=4096,e)}function nu(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ao(t.return,e,r)}function Hi(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function bd(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(ye(t,e,n.children,r),n=q.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nu(t,r,e);else if(t.tag===19)nu(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(B(q,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Bs(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Hi(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Bs(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Hi(e,!0,r,null,i);break;case"together":Hi(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ks(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ft(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),er|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,r=It(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=It(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Np(t,e,r){switch(e.tag){case 3:Sd(e),Or();break;case 5:Yc(e);break;case 1:Ne(e.type)&&Ls(e);break;case 4:Al(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;B(Ds,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(B(q,q.current&1),e.flags|=128,null):r&e.child.childLanes?jd(t,e,r):(B(q,q.current&1),t=ft(t,e,r),t!==null?t.sibling:null);B(q,q.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return bd(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),B(q,q.current),n)break;return null;case 22:case 23:return e.lanes=0,_d(t,e,r)}return ft(t,e,r)}var Ed,Vo,Nd,Cd;Ed=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Vo=function(){};Nd=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Qt(rt.current);var i=null;switch(r){case"input":s=co(t,s),n=co(t,n),i=[];break;case"select":s=Q({},s,{value:void 0}),n=Q({},n,{value:void 0}),i=[];break;case"textarea":s=po(t,s),n=po(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Rs)}go(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yn.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var a=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(r||(r={}),r[o]=a[o])}else r||(i||(i=[]),i.push(u,r)),r=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(yn.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&V("scroll",t),i||l===a||(i=[])):(i=i||[]).push(u,a))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Cd=function(t,e,r,n){r!==n&&(e.flags|=4)};function Gr(t,e){if(!H)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function pe(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Cp(t,e,r){var n=e.pendingProps;switch(Cl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(e),null;case 1:return Ne(e.type)&&As(),pe(e),null;case 3:return n=e.stateNode,$r(),W(Ee),W(ve),zl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ns(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qe!==null&&(Yo(Qe),Qe=null))),Vo(t,e),pe(e),null;case 5:Ll(e);var s=Qt(Tn.current);if(r=e.type,t!==null&&e.stateNode!=null)Nd(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(E(166));return pe(e),null}if(t=Qt(rt.current),ns(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[et]=e,n[Cn]=i,t=(e.mode&1)!==0,r){case"dialog":V("cancel",n),V("close",n);break;case"iframe":case"object":case"embed":V("load",n);break;case"video":case"audio":for(s=0;s<tn.length;s++)V(tn[s],n);break;case"source":V("error",n);break;case"img":case"image":case"link":V("error",n),V("load",n);break;case"details":V("toggle",n);break;case"input":ha(n,i),V("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},V("invalid",n);break;case"textarea":pa(n,i),V("invalid",n)}go(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&rs(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&rs(n.textContent,l,t),s=["children",""+l]):yn.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&V("scroll",n)}switch(r){case"input":Qn(n),fa(n,i,!0);break;case"textarea":Qn(n),ma(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Rs)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rc(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[et]=e,t[Cn]=n,Ed(t,e,!1,!1),e.stateNode=t;e:{switch(o=vo(r,n),r){case"dialog":V("cancel",t),V("close",t),s=n;break;case"iframe":case"object":case"embed":V("load",t),s=n;break;case"video":case"audio":for(s=0;s<tn.length;s++)V(tn[s],t);s=n;break;case"source":V("error",t),s=n;break;case"img":case"image":case"link":V("error",t),V("load",t),s=n;break;case"details":V("toggle",t),s=n;break;case"input":ha(t,n),s=co(t,n),V("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Q({},n,{value:void 0}),V("invalid",t);break;case"textarea":pa(t,n),s=po(t,n),V("invalid",t);break;default:s=n}go(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?ic(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&nc(t,a)):i==="children"?typeof a=="string"?(r!=="textarea"||a!=="")&&wn(t,a):typeof a=="number"&&wn(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(yn.hasOwnProperty(i)?a!=null&&i==="onScroll"&&V("scroll",t):a!=null&&fl(t,i,a,o))}switch(r){case"input":Qn(t),fa(t,n,!1);break;case"textarea":Qn(t),ma(t);break;case"option":n.value!=null&&t.setAttribute("value",""+$t(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Sr(t,!!n.multiple,i,!1):n.defaultValue!=null&&Sr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Rs)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pe(e),null;case 6:if(t&&e.stateNode!=null)Cd(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(E(166));if(r=Qt(Tn.current),Qt(rt.current),ns(e)){if(n=e.stateNode,r=e.memoizedProps,n[et]=e,(i=n.nodeValue!==r)&&(t=Oe,t!==null))switch(t.tag){case 3:rs(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&rs(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[et]=e,e.stateNode=n}return pe(e),null;case 13:if(W(q),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(H&&Te!==null&&e.mode&1&&!(e.flags&128))qc(),Or(),e.flags|=98560,i=!1;else if(i=ns(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(E(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[et]=e}else Or(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pe(e),i=!1}else Qe!==null&&(Yo(Qe),Qe=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||q.current&1?se===0&&(se=3):Gl())),e.updateQueue!==null&&(e.flags|=4),pe(e),null);case 4:return $r(),Vo(t,e),t===null&&En(e.stateNode.containerInfo),pe(e),null;case 10:return Il(e.type._context),pe(e),null;case 17:return Ne(e.type)&&As(),pe(e),null;case 19:if(W(q),i=e.memoizedState,i===null)return pe(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Gr(i,!1);else{if(se!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Bs(t),o!==null){for(e.flags|=128,Gr(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return B(q,q.current&1|2),e.child}t=t.sibling}i.tail!==null&&Z()>Ar&&(e.flags|=128,n=!0,Gr(i,!1),e.lanes=4194304)}else{if(!n)if(t=Bs(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Gr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!H)return pe(e),null}else 2*Z()-i.renderingStartTime>Ar&&r!==1073741824&&(e.flags|=128,n=!0,Gr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Z(),e.sibling=null,r=q.current,B(q,n?r&1|2:r&1),e):(pe(e),null);case 22:case 23:return Ql(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Pe&1073741824&&(pe(e),e.subtreeFlags&6&&(e.flags|=8192)):pe(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function Pp(t,e){switch(Cl(e),e.tag){case 1:return Ne(e.type)&&As(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $r(),W(Ee),W(ve),zl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ll(e),null;case 13:if(W(q),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));Or()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return W(q),null;case 4:return $r(),null;case 10:return Il(e.type._context),null;case 22:case 23:return Ql(),null;case 24:return null;default:return null}}var os=!1,ge=!1,Tp=typeof WeakSet=="function"?WeakSet:Set,O=null;function _r(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){J(t,e,n)}else r.current=null}function Wo(t,e,r){try{r()}catch(n){J(t,e,n)}}var su=!1;function Op(t,e){if(No=Os,t=$c(),El(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,a=-1,u=0,d=0,h=t,m=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(a=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)m=h,h=y;for(;;){if(h===t)break t;if(m===r&&++u===s&&(l=o),m===i&&++d===n&&(a=o),(y=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=y}r=l===-1||a===-1?null:{start:l,end:a}}else r=null}r=r||{start:0,end:0}}else r=null;for(Co={focusedElem:t,selectionRange:r},Os=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var _=x.memoizedProps,N=x.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?_:He(e.type,_),N);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var f=e.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(v){J(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return x=su,su=!1,x}function cn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Wo(e,r,i)}s=s.next}while(s!==n)}}function li(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Ho(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Pd(t){var e=t.alternate;e!==null&&(t.alternate=null,Pd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[et],delete e[Cn],delete e[Oo],delete e[fp],delete e[pp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Td(t){return t.tag===5||t.tag===3||t.tag===4}function iu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Td(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qo(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Rs));else if(n!==4&&(t=t.child,t!==null))for(qo(t,e,r),t=t.sibling;t!==null;)qo(t,e,r),t=t.sibling}function Ko(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Ko(t,e,r),t=t.sibling;t!==null;)Ko(t,e,r),t=t.sibling}var ce=null,qe=!1;function mt(t,e,r){for(r=r.child;r!==null;)Od(t,e,r),r=r.sibling}function Od(t,e,r){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(Zs,r)}catch{}switch(r.tag){case 5:ge||_r(r,e);case 6:var n=ce,s=qe;ce=null,mt(t,e,r),ce=n,qe=s,ce!==null&&(qe?(t=ce,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ce.removeChild(r.stateNode));break;case 18:ce!==null&&(qe?(t=ce,r=r.stateNode,t.nodeType===8?Ui(t.parentNode,r):t.nodeType===1&&Ui(t,r),Sn(t)):Ui(ce,r.stateNode));break;case 4:n=ce,s=qe,ce=r.stateNode.containerInfo,qe=!0,mt(t,e,r),ce=n,qe=s;break;case 0:case 11:case 14:case 15:if(!ge&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Wo(r,e,o),s=s.next}while(s!==n)}mt(t,e,r);break;case 1:if(!ge&&(_r(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){J(r,e,l)}mt(t,e,r);break;case 21:mt(t,e,r);break;case 22:r.mode&1?(ge=(n=ge)||r.memoizedState!==null,mt(t,e,r),ge=n):mt(t,e,r);break;default:mt(t,e,r)}}function ou(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Tp),e.forEach(function(n){var s=Mp.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ve(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ce=l.stateNode,qe=!1;break e;case 3:ce=l.stateNode.containerInfo,qe=!0;break e;case 4:ce=l.stateNode.containerInfo,qe=!0;break e}l=l.return}if(ce===null)throw Error(E(160));Od(i,o,s),ce=null,qe=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){J(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Id(e,t),e=e.sibling}function Id(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ve(e,t),Xe(t),n&4){try{cn(3,t,t.return),li(3,t)}catch(_){J(t,t.return,_)}try{cn(5,t,t.return)}catch(_){J(t,t.return,_)}}break;case 1:Ve(e,t),Xe(t),n&512&&r!==null&&_r(r,r.return);break;case 5:if(Ve(e,t),Xe(t),n&512&&r!==null&&_r(r,r.return),t.flags&32){var s=t.stateNode;try{wn(s,"")}catch(_){J(t,t.return,_)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&ec(s,i),vo(l,o);var u=vo(l,i);for(o=0;o<a.length;o+=2){var d=a[o],h=a[o+1];d==="style"?ic(s,h):d==="dangerouslySetInnerHTML"?nc(s,h):d==="children"?wn(s,h):fl(s,d,h,u)}switch(l){case"input":ho(s,i);break;case"textarea":tc(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Sr(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?Sr(s,!!i.multiple,i.defaultValue,!0):Sr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Cn]=i}catch(_){J(t,t.return,_)}}break;case 6:if(Ve(e,t),Xe(t),n&4){if(t.stateNode===null)throw Error(E(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){J(t,t.return,_)}}break;case 3:if(Ve(e,t),Xe(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Sn(e.containerInfo)}catch(_){J(t,t.return,_)}break;case 4:Ve(e,t),Xe(t);break;case 13:Ve(e,t),Xe(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ql=Z())),n&4&&ou(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(ge=(u=ge)||d,Ve(e,t),ge=u):Ve(e,t),Xe(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(O=t,d=t.child;d!==null;){for(h=O=d;O!==null;){switch(m=O,y=m.child,m.tag){case 0:case 11:case 14:case 15:cn(4,m,m.return);break;case 1:_r(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(_){J(n,r,_)}}break;case 5:_r(m,m.return);break;case 22:if(m.memoizedState!==null){au(h);continue}}y!==null?(y.return=m,O=y):au(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=sc("display",o))}catch(_){J(t,t.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){J(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ve(e,t),Xe(t),n&4&&ou(t);break;case 21:break;default:Ve(e,t),Xe(t)}}function Xe(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Td(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(wn(s,""),n.flags&=-33);var i=iu(t);Ko(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=iu(t);qo(t,l,o);break;default:throw Error(E(161))}}catch(a){J(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ip(t,e,r){O=t,$d(t)}function $d(t,e,r){for(var n=(t.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||os;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||ge;l=os;var u=ge;if(os=o,(ge=a)&&!u)for(O=s;O!==null;)o=O,a=o.child,o.tag===22&&o.memoizedState!==null?uu(s):a!==null?(a.return=o,O=a):uu(s);for(;i!==null;)O=i,$d(i),i=i.sibling;O=s,os=l,ge=u}lu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):lu(t)}}function lu(t){for(;O!==null;){var e=O;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ge||li(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ge)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:He(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ha(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Ha(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break;case"img":a.src&&(r.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Sn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}ge||e.flags&512&&Ho(e)}catch(m){J(e,e.return,m)}}if(e===t){O=null;break}if(r=e.sibling,r!==null){r.return=e.return,O=r;break}O=e.return}}function au(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var r=e.sibling;if(r!==null){r.return=e.return,O=r;break}O=e.return}}function uu(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{li(4,e)}catch(a){J(e,r,a)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(a){J(e,s,a)}}var i=e.return;try{Ho(e)}catch(a){J(e,i,a)}break;case 5:var o=e.return;try{Ho(e)}catch(a){J(e,o,a)}}}catch(a){J(e,e.return,a)}if(e===t){O=null;break}var l=e.sibling;if(l!==null){l.return=e.return,O=l;break}O=e.return}}var $p=Math.ceil,Hs=pt.ReactCurrentDispatcher,Wl=pt.ReactCurrentOwner,De=pt.ReactCurrentBatchConfig,D=0,ue=null,re=null,de=0,Pe=0,kr=Lt(0),se=0,Rn=null,er=0,ai=0,Hl=0,dn=null,Se=null,ql=0,Ar=1/0,st=null,qs=!1,Qo=null,Tt=null,ls=!1,jt=null,Ks=0,hn=0,Go=null,Ss=-1,js=0;function we(){return D&6?Z():Ss!==-1?Ss:Ss=Z()}function Ot(t){return t.mode&1?D&2&&de!==0?de&-de:gp.transition!==null?(js===0&&(js=vc()),js):(t=M,t!==0||(t=window.event,t=t===void 0?16:jc(t.type)),t):1}function Je(t,e,r,n){if(50<hn)throw hn=0,Go=null,Error(E(185));zn(t,r,n),(!(D&2)||t!==ue)&&(t===ue&&(!(D&2)&&(ai|=r),se===4&&_t(t,de)),Ce(t,n),r===1&&D===0&&!(e.mode&1)&&(Ar=Z()+500,si&&zt()))}function Ce(t,e){var r=t.callbackNode;gf(t,e);var n=Ts(t,t===ue?de:0);if(n===0)r!==null&&ya(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&ya(r),e===1)t.tag===0?mp(cu.bind(null,t)):Vc(cu.bind(null,t)),dp(function(){!(D&6)&&zt()}),r=null;else{switch(yc(n)){case 1:r=yl;break;case 4:r=mc;break;case 16:r=Ps;break;case 536870912:r=gc;break;default:r=Ps}r=Fd(r,Rd.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Rd(t,e){if(Ss=-1,js=0,D&6)throw Error(E(327));var r=t.callbackNode;if(Cr()&&t.callbackNode!==r)return null;var n=Ts(t,t===ue?de:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Qs(t,n);else{e=n;var s=D;D|=2;var i=Ld();(ue!==t||de!==e)&&(st=null,Ar=Z()+500,Gt(t,e));do try{Lp();break}catch(l){Ad(t,l)}while(!0);Ol(),Hs.current=i,D=s,re!==null?e=0:(ue=null,de=0,e=se)}if(e!==0){if(e===2&&(s=ko(t),s!==0&&(n=s,e=Jo(t,s))),e===1)throw r=Rn,Gt(t,0),_t(t,n),Ce(t,Z()),r;if(e===6)_t(t,n);else{if(s=t.current.alternate,!(n&30)&&!Rp(s)&&(e=Qs(t,n),e===2&&(i=ko(t),i!==0&&(n=i,e=Jo(t,i))),e===1))throw r=Rn,Gt(t,0),_t(t,n),Ce(t,Z()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(E(345));case 2:Vt(t,Se,st);break;case 3:if(_t(t,n),(n&130023424)===n&&(e=ql+500-Z(),10<e)){if(Ts(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){we(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=To(Vt.bind(null,t,Se,st),e);break}Vt(t,Se,st);break;case 4:if(_t(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-Ge(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=Z()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*$p(n/1960))-n,10<n){t.timeoutHandle=To(Vt.bind(null,t,Se,st),n);break}Vt(t,Se,st);break;case 5:Vt(t,Se,st);break;default:throw Error(E(329))}}}return Ce(t,Z()),t.callbackNode===r?Rd.bind(null,t):null}function Jo(t,e){var r=dn;return t.current.memoizedState.isDehydrated&&(Gt(t,e).flags|=256),t=Qs(t,e),t!==2&&(e=Se,Se=r,e!==null&&Yo(e)),t}function Yo(t){Se===null?Se=t:Se.push.apply(Se,t)}function Rp(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ye(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _t(t,e){for(e&=~Hl,e&=~ai,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ge(e),n=1<<r;t[r]=-1,e&=~n}}function cu(t){if(D&6)throw Error(E(327));Cr();var e=Ts(t,0);if(!(e&1))return Ce(t,Z()),null;var r=Qs(t,e);if(t.tag!==0&&r===2){var n=ko(t);n!==0&&(e=n,r=Jo(t,n))}if(r===1)throw r=Rn,Gt(t,0),_t(t,e),Ce(t,Z()),r;if(r===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vt(t,Se,st),Ce(t,Z()),null}function Kl(t,e){var r=D;D|=1;try{return t(e)}finally{D=r,D===0&&(Ar=Z()+500,si&&zt())}}function tr(t){jt!==null&&jt.tag===0&&!(D&6)&&Cr();var e=D;D|=1;var r=De.transition,n=M;try{if(De.transition=null,M=1,t)return t()}finally{M=n,De.transition=r,D=e,!(D&6)&&zt()}}function Ql(){Pe=kr.current,W(kr)}function Gt(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,cp(r)),re!==null)for(r=re.return;r!==null;){var n=r;switch(Cl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&As();break;case 3:$r(),W(Ee),W(ve),zl();break;case 5:Ll(n);break;case 4:$r();break;case 13:W(q);break;case 19:W(q);break;case 10:Il(n.type._context);break;case 22:case 23:Ql()}r=r.return}if(ue=t,re=t=It(t.current,null),de=Pe=e,se=0,Rn=null,Hl=ai=er=0,Se=dn=null,Kt!==null){for(e=0;e<Kt.length;e++)if(r=Kt[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Kt=null}return t}function Ad(t,e){do{var r=re;try{if(Ol(),xs.current=Ws,Vs){for(var n=K.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Vs=!1}if(Zt=0,ae=ne=K=null,un=!1,On=0,Wl.current=null,r===null||r.return===null){se=1,Rn=e,re=null;break}e:{var i=t,o=r.return,l=r,a=e;if(e=de,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Ya(o);if(y!==null){y.flags&=-257,Xa(y,o,l,i,e),y.mode&1&&Ja(i,u,e),e=y,a=u;var x=e.updateQueue;if(x===null){var _=new Set;_.add(a),e.updateQueue=_}else x.add(a);break e}else{if(!(e&1)){Ja(i,u,e),Gl();break e}a=Error(E(426))}}else if(H&&l.mode&1){var N=Ya(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Xa(N,o,l,i,e),Pl(Rr(a,l));break e}}i=a=Rr(a,l),se!==4&&(se=2),dn===null?dn=[i]:dn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=yd(i,a,e);Wa(i,g);break e;case 1:l=a;var p=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Tt===null||!Tt.has(f)))){i.flags|=65536,e&=-e,i.lanes|=e;var v=wd(i,l,e);Wa(i,v);break e}}i=i.return}while(i!==null)}Ud(r)}catch(k){e=k,re===r&&r!==null&&(re=r=r.return);continue}break}while(!0)}function Ld(){var t=Hs.current;return Hs.current=Ws,t===null?Ws:t}function Gl(){(se===0||se===3||se===2)&&(se=4),ue===null||!(er&268435455)&&!(ai&268435455)||_t(ue,de)}function Qs(t,e){var r=D;D|=2;var n=Ld();(ue!==t||de!==e)&&(st=null,Gt(t,e));do try{Ap();break}catch(s){Ad(t,s)}while(!0);if(Ol(),D=r,Hs.current=n,re!==null)throw Error(E(261));return ue=null,de=0,se}function Ap(){for(;re!==null;)zd(re)}function Lp(){for(;re!==null&&!lf();)zd(re)}function zd(t){var e=Md(t.alternate,t,Pe);t.memoizedProps=t.pendingProps,e===null?Ud(t):re=e,Wl.current=null}function Ud(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Pp(r,e),r!==null){r.flags&=32767,re=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{se=6,re=null;return}}else if(r=Cp(r,e,Pe),r!==null){re=r;return}if(e=e.sibling,e!==null){re=e;return}re=e=t}while(e!==null);se===0&&(se=5)}function Vt(t,e,r){var n=M,s=De.transition;try{De.transition=null,M=1,zp(t,e,r,n)}finally{De.transition=s,M=n}return null}function zp(t,e,r,n){do Cr();while(jt!==null);if(D&6)throw Error(E(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(vf(t,i),t===ue&&(re=ue=null,de=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ls||(ls=!0,Fd(Ps,function(){return Cr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=De.transition,De.transition=null;var o=M;M=1;var l=D;D|=4,Wl.current=null,Op(t,r),Id(r,t),np(Co),Os=!!No,Co=No=null,t.current=r,Ip(r),af(),D=l,M=o,De.transition=i}else t.current=r;if(ls&&(ls=!1,jt=t,Ks=s),i=t.pendingLanes,i===0&&(Tt=null),df(r.stateNode),Ce(t,Z()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(qs)throw qs=!1,t=Qo,Qo=null,t;return Ks&1&&t.tag!==0&&Cr(),i=t.pendingLanes,i&1?t===Go?hn++:(hn=0,Go=t):hn=0,zt(),null}function Cr(){if(jt!==null){var t=yc(Ks),e=De.transition,r=M;try{if(De.transition=null,M=16>t?16:t,jt===null)var n=!1;else{if(t=jt,jt=null,Ks=0,D&6)throw Error(E(331));var s=D;for(D|=4,O=t.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(O=u;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:cn(8,d,i)}var h=d.child;if(h!==null)h.return=d,O=h;else for(;O!==null;){d=O;var m=d.sibling,y=d.return;if(Pd(d),d===u){O=null;break}if(m!==null){m.return=y,O=m;break}O=y}}}var x=i.alternate;if(x!==null){var _=x.child;if(_!==null){x.child=null;do{var N=_.sibling;_.sibling=null,_=N}while(_!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:cn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,O=g;break e}O=i.return}}var p=t.current;for(O=p;O!==null;){o=O;var f=o.child;if(o.subtreeFlags&2064&&f!==null)f.return=o,O=f;else e:for(o=p;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:li(9,l)}}catch(k){J(l,l.return,k)}if(l===o){O=null;break e}var v=l.sibling;if(v!==null){v.return=l.return,O=v;break e}O=l.return}}if(D=s,zt(),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(Zs,t)}catch{}n=!0}return n}finally{M=r,De.transition=e}}return!1}function du(t,e,r){e=Rr(r,e),e=yd(t,e,1),t=Pt(t,e,1),e=we(),t!==null&&(zn(t,1,e),Ce(t,e))}function J(t,e,r){if(t.tag===3)du(t,t,r);else for(;e!==null;){if(e.tag===3){du(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Tt===null||!Tt.has(n))){t=Rr(r,t),t=wd(e,t,1),e=Pt(e,t,1),t=we(),e!==null&&(zn(e,1,t),Ce(e,t));break}}e=e.return}}function Up(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=we(),t.pingedLanes|=t.suspendedLanes&r,ue===t&&(de&r)===r&&(se===4||se===3&&(de&130023424)===de&&500>Z()-ql?Gt(t,0):Hl|=r),Ce(t,e)}function Dd(t,e){e===0&&(t.mode&1?(e=Yn,Yn<<=1,!(Yn&130023424)&&(Yn=4194304)):e=1);var r=we();t=ht(t,e),t!==null&&(zn(t,e,r),Ce(t,r))}function Dp(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Dd(t,r)}function Mp(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(e),Dd(t,r)}var Md;Md=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ee.current)be=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return be=!1,Np(t,e,r);be=!!(t.flags&131072)}else be=!1,H&&e.flags&1048576&&Wc(e,Us,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;ks(t,e),t=e.pendingProps;var s=Tr(e,ve.current);Nr(e,r),s=Dl(null,e,n,t,s,r);var i=Ml();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ne(n)?(i=!0,Ls(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Rl(e),s.updater=oi,e.stateNode=s,s._reactInternals=e,zo(e,n,t,r),e=Mo(null,e,n,!0,i,r)):(e.tag=0,H&&i&&Nl(e),ye(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(ks(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Bp(n),t=He(n,t),s){case 0:e=Do(null,e,n,t,r);break e;case 1:e=tu(null,e,n,t,r);break e;case 11:e=Za(null,e,n,t,r);break e;case 14:e=eu(null,e,n,He(n.type,t),r);break e}throw Error(E(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:He(n,s),Do(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:He(n,s),tu(t,e,n,s,r);case 3:e:{if(Sd(e),t===null)throw Error(E(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Jc(t,e),Fs(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Rr(Error(E(423)),e),e=ru(t,e,n,r,s);break e}else if(n!==s){s=Rr(Error(E(424)),e),e=ru(t,e,n,r,s);break e}else for(Te=Ct(e.stateNode.containerInfo.firstChild),Oe=e,H=!0,Qe=null,r=Qc(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Or(),n===s){e=ft(t,e,r);break e}ye(t,e,n,r)}e=e.child}return e;case 5:return Yc(e),t===null&&Ro(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Po(n,s)?o=null:i!==null&&Po(n,i)&&(e.flags|=32),kd(t,e),ye(t,e,o,r),e.child;case 6:return t===null&&Ro(e),null;case 13:return jd(t,e,r);case 4:return Al(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ir(e,null,n,r):ye(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:He(n,s),Za(t,e,n,s,r);case 7:return ye(t,e,e.pendingProps,r),e.child;case 8:return ye(t,e,e.pendingProps.children,r),e.child;case 12:return ye(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,B(Ds,n._currentValue),n._currentValue=o,i!==null)if(Ye(i.value,o)){if(i.children===s.children&&!Ee.current){e=ft(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===n){if(i.tag===1){a=ut(-1,r&-r),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),Ao(i.return,r,e),l.lanes|=r;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Ao(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ye(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Nr(e,r),s=Fe(s),n=n(s),e.flags|=1,ye(t,e,n,r),e.child;case 14:return n=e.type,s=He(n,e.pendingProps),s=He(n.type,s),eu(t,e,n,s,r);case 15:return xd(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:He(n,s),ks(t,e),e.tag=1,Ne(n)?(t=!0,Ls(e)):t=!1,Nr(e,r),vd(e,n,s),zo(e,n,s,r),Mo(null,e,n,!0,t,r);case 19:return bd(t,e,r);case 22:return _d(t,e,r)}throw Error(E(156,e.tag))};function Fd(t,e){return pc(t,e)}function Fp(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ue(t,e,r,n){return new Fp(t,e,r,n)}function Jl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Bp(t){if(typeof t=="function")return Jl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ml)return 11;if(t===gl)return 14}return 2}function It(t,e){var r=t.alternate;return r===null?(r=Ue(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function bs(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")Jl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case hr:return Jt(r.children,s,i,e);case pl:o=8,s|=8;break;case oo:return t=Ue(12,r,e,s|2),t.elementType=oo,t.lanes=i,t;case lo:return t=Ue(13,r,e,s),t.elementType=lo,t.lanes=i,t;case ao:return t=Ue(19,r,e,s),t.elementType=ao,t.lanes=i,t;case Yu:return ui(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Gu:o=10;break e;case Ju:o=9;break e;case ml:o=11;break e;case gl:o=14;break e;case vt:o=16,n=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=Ue(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Jt(t,e,r,n){return t=Ue(7,t,n,e),t.lanes=r,t}function ui(t,e,r,n){return t=Ue(22,t,n,e),t.elementType=Yu,t.lanes=r,t.stateNode={isHidden:!1},t}function qi(t,e,r){return t=Ue(6,t,null,e),t.lanes=r,t}function Ki(t,e,r){return e=Ue(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Vp(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ni(0),this.expirationTimes=Ni(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Yl(t,e,r,n,s,i,o,l,a){return t=new Vp(t,e,r,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ue(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rl(i),t}function Wp(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Bd(t){if(!t)return Rt;t=t._reactInternals;e:{if(nr(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ne(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var r=t.type;if(Ne(r))return Bc(t,r,e)}return e}function Vd(t,e,r,n,s,i,o,l,a){return t=Yl(r,n,!0,t,s,i,o,l,a),t.context=Bd(null),r=t.current,n=we(),s=Ot(r),i=ut(n,s),i.callback=e??null,Pt(r,i,s),t.current.lanes=s,zn(t,s,n),Ce(t,n),t}function ci(t,e,r,n){var s=e.current,i=we(),o=Ot(s);return r=Bd(r),e.context===null?e.context=r:e.pendingContext=r,e=ut(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Pt(s,e,o),t!==null&&(Je(t,s,o,i),ws(t,s,o)),o}function Gs(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Xl(t,e){hu(t,e),(t=t.alternate)&&hu(t,e)}function Hp(){return null}var Wd=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zl(t){this._internalRoot=t}di.prototype.render=Zl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));ci(t,e,null,null)};di.prototype.unmount=Zl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;tr(function(){ci(null,t,null,null)}),e[dt]=null}};function di(t){this._internalRoot=t}di.prototype.unstable_scheduleHydration=function(t){if(t){var e=_c();t={blockedOn:null,target:t,priority:e};for(var r=0;r<xt.length&&e!==0&&e<xt[r].priority;r++);xt.splice(r,0,t),r===0&&Sc(t)}};function ea(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fu(){}function qp(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Gs(o);i.call(u)}}var o=Vd(e,n,t,0,null,!1,!1,"",fu);return t._reactRootContainer=o,t[dt]=o.current,En(t.nodeType===8?t.parentNode:t),tr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Gs(a);l.call(u)}}var a=Yl(t,0,!1,null,null,!1,!1,"",fu);return t._reactRootContainer=a,t[dt]=a.current,En(t.nodeType===8?t.parentNode:t),tr(function(){ci(e,a,r,n)}),a}function fi(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=Gs(o);l.call(a)}}ci(e,o,t,s)}else o=qp(r,e,t,s,n);return Gs(o)}wc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=en(e.pendingLanes);r!==0&&(wl(e,r|1),Ce(e,Z()),!(D&6)&&(Ar=Z()+500,zt()))}break;case 13:tr(function(){var n=ht(t,1);if(n!==null){var s=we();Je(n,t,1,s)}}),Xl(t,1)}};xl=function(t){if(t.tag===13){var e=ht(t,134217728);if(e!==null){var r=we();Je(e,t,134217728,r)}Xl(t,134217728)}};xc=function(t){if(t.tag===13){var e=Ot(t),r=ht(t,e);if(r!==null){var n=we();Je(r,t,e,n)}Xl(t,e)}};_c=function(){return M};kc=function(t,e){var r=M;try{return M=t,e()}finally{M=r}};wo=function(t,e,r){switch(e){case"input":if(ho(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=ni(n);if(!s)throw Error(E(90));Zu(n),ho(n,s)}}}break;case"textarea":tc(t,r);break;case"select":e=r.value,e!=null&&Sr(t,!!r.multiple,e,!1)}};ac=Kl;uc=tr;var Kp={usingClientEntryPoint:!1,Events:[Dn,gr,ni,oc,lc,Kl]},Jr={findFiberByHostInstance:qt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qp={bundleType:Jr.bundleType,version:Jr.version,rendererPackageName:Jr.rendererPackageName,rendererConfig:Jr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hc(t),t===null?null:t.stateNode},findFiberByHostInstance:Jr.findFiberByHostInstance||Hp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var as=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!as.isDisabled&&as.supportsFiber)try{Zs=as.inject(Qp),tt=as}catch{}}$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kp;$e.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ea(e))throw Error(E(200));return Wp(t,e,null,r)};$e.createRoot=function(t,e){if(!ea(t))throw Error(E(299));var r=!1,n="",s=Wd;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Yl(t,1,!1,null,null,r,!1,n,s),t[dt]=e.current,En(t.nodeType===8?t.parentNode:t),new Zl(e)};$e.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=hc(e),t=t===null?null:t.stateNode,t};$e.flushSync=function(t){return tr(t)};$e.hydrate=function(t,e,r){if(!hi(e))throw Error(E(200));return fi(null,t,e,!0,r)};$e.hydrateRoot=function(t,e,r){if(!ea(t))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Wd;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Vd(e,null,t,1,r??null,s,!1,i,o),t[dt]=e.current,En(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new di(e)};$e.render=function(t,e,r){if(!hi(e))throw Error(E(200));return fi(null,t,e,!1,r)};$e.unmountComponentAtNode=function(t){if(!hi(t))throw Error(E(40));return t._reactRootContainer?(tr(function(){fi(null,null,t,!1,function(){t._reactRootContainer=null,t[dt]=null})}),!0):!1};$e.unstable_batchedUpdates=Kl;$e.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!hi(r))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return fi(t,e,r,!1,n)};$e.version="18.3.1-next-f1338f8080-20240426";function Hd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hd)}catch(t){console.error(t)}}Hd(),Hu.exports=$e;var Gp=Hu.exports,qd,pu=Gp;qd=pu.createRoot,pu.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Jp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ee=(t,e)=>{const r=A.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:a,...u},d)=>A.createElement("svg",{ref:d,...Jp,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Yp(t)}`,l].join(" "),...u},[...e.map(([h,m])=>A.createElement(h,m)),...Array.isArray(a)?a:[a]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=ee("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=ee("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=ee("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=ee("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=ee("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=ee("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=ee("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=ee("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=ee("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),dm=()=>c.jsx("header",{className:"bg-white/90 backdrop-blur-md py-8 px-4 relative z-20 shadow-lg",children:c.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("img",{src:"/mar.png",alt:"موال مراكش",className:"h-40 mx-auto mb-4 drop-shadow-lg"}),c.jsx("h1",{className:"text-4xl font-bold mb-2",dir:"rtl",style:{color:"#87512f"},children:"مقهى موال مراكش"}),c.jsx("p",{className:"text-lg",dir:"rtl",style:{color:"#b8956f"},children:"تجربة قهوة أصيلة بنكهة مغربية"})]}),c.jsxs("div",{className:"flex flex-wrap justify-center gap-6 text-sm",style:{color:"#b8956f"},children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Kd,{className:"w-4 h-4"}),c.jsx("span",{dir:"rtl",children:"المدينة المنورة - حي النبلاء"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Zp,{className:"w-4 h-4"}),c.jsx("span",{dir:"rtl",children:"مفتوح 24 ساعة"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Qd,{className:"w-4 h-4"}),c.jsx("span",{children:"+966567833138"})]})]})]})}),hm=()=>c.jsx("footer",{className:"text-white py-12 relative z-20",style:{background:"linear-gradient(to right, #c4a484, #b8956f)"},children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"text-center md:text-right",dir:"rtl",children:[c.jsx("h3",{className:"text-xl font-bold mb-4",children:"تواصل معنا"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2",children:[c.jsx(Kd,{className:"w-4 h-4"}),c.jsx("span",{children:"المدينة المنورة - حي النبلاء"})]}),c.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2",children:[c.jsx(Qd,{className:"w-4 h-4"}),c.jsx("a",{href:"https://wa.me/966567833138",className:"hover:text-amber-200 transition-colors",children:"+966567833138"})]}),c.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2",children:[c.jsx(nm,{className:"w-4 h-4"}),c.jsx("span",{children:"marrakechmawal@gmail.com"})]})]})]}),c.jsxs("div",{className:"text-center",dir:"rtl",children:[c.jsx("h3",{className:"text-xl font-bold mb-4",children:"أوقات العمل"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-2xl font-bold",style:{color:"#f4d03f"},children:"مفتوح 24 ساعة"}),c.jsx("p",{style:{color:"#f7dc6f"},children:"جميع أيام الأسبوع"})]})]}),c.jsxs("div",{className:"text-center md:text-left",children:[c.jsx("h3",{className:"text-xl font-bold mb-4",dir:"rtl",children:"تابعنا"}),c.jsxs("div",{className:"flex justify-center md:justify-start gap-3 flex-wrap",children:[c.jsx("a",{href:"https://www.instagram.com/mwal_marakish/",target:"_blank",rel:"noopener noreferrer",className:"bg-white/20 p-3 rounded-full hover:bg-white/30 transition-colors",title:"Instagram",children:c.jsx(tm,{className:"w-5 h-5"})}),c.jsx("a",{href:"https://www.facebook.com/cafemwalmarakish/",target:"_blank",rel:"noopener noreferrer",className:"bg-white/20 p-3 rounded-full hover:bg-white/30 transition-colors",title:"Facebook",children:c.jsx(em,{className:"w-5 h-5"})}),c.jsx("a",{href:"https://x.com/mwal_marakish",target:"_blank",rel:"noopener noreferrer",className:"bg-white/20 p-3 rounded-full hover:bg-white/30 transition-colors",title:"X (Twitter)",children:c.jsx(um,{className:"w-5 h-5"})}),c.jsx("a",{href:"https://www.tiktok.com/@mwal_marakish",target:"_blank",rel:"noopener noreferrer",className:"bg-white/20 p-3 rounded-full hover:bg-white/30 transition-colors",title:"TikTok",children:c.jsx(im,{className:"w-5 h-5"})}),c.jsx("a",{href:"https://www.snapchat.com/@mwalmarakis2024",target:"_blank",rel:"noopener noreferrer",className:"bg-white/20 p-3 rounded-full hover:bg-white/30 transition-colors bg-yellow-400/20",title:"Snapchat",children:c.jsx("div",{className:"w-5 h-5 bg-white rounded-full flex items-center justify-center",children:c.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full"})})})]})]})]}),c.jsxs("div",{className:"border-t border-white/20 mt-8 pt-8 text-center",children:[c.jsx("p",{style:{color:"#f4d03f"},dir:"rtl",children:"© 2024 مقهى موال مراكش - جميع الحقوق محفوظة"}),c.jsx("p",{className:"text-sm mt-2",style:{color:"#f7dc6f"},dir:"rtl",children:"تجربة قهوة أصيلة بنكهة مغربية في قلب المدينة المنورة"})]})]})}),fm=({sections:t,activeSection:e,onSectionChange:r})=>(console.log("CategoryButtons received sections:",t.length),!t||t.length===0?c.jsx("div",{className:"text-center py-8",children:c.jsx("div",{className:"bg-white/90 backdrop-blur-md rounded-2xl p-6 shadow-xl border border-amber-200/50",children:c.jsx("p",{className:"text-amber-800 font-medium",dir:"rtl",children:"لا توجد أقسام متاحة حالياً"})})}):c.jsx("div",{className:"category-grid grid gap-3 mb-8",children:t.map(n=>c.jsxs("button",{onClick:()=>r(n.id),className:`p-4 rounded-xl border-2 transition-all duration-300 ${e===n.id?"text-white shadow-lg":"bg-white/90 backdrop-blur-md text-gray-700 hover:shadow-lg hover:scale-105 hover:bg-white/95"}`,style:e===n.id?{background:"linear-gradient(to right, #d4a574, #c49660)",borderColor:"#d4a574"}:{borderColor:"#d4a57450"},children:[c.jsx("div",{className:"text-2xl mb-2",children:n.icon}),c.jsx("div",{className:"text-sm font-bold",dir:"rtl",children:n.title})]},n.id))})),pm=({title:t,items:e,icon:r,onAddToCart:n})=>{const[s,i]=A.useState({});if(console.log("MenuSection received:",{title:t,itemsCount:e.length}),!e||e.length===0)return c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[c.jsx("span",{className:"text-3xl",children:r}),c.jsx("h2",{className:"text-2xl font-bold text-amber-800",dir:"rtl",children:t}),c.jsx("span",{className:"text-3xl",children:r})]}),c.jsx("div",{className:"text-center py-12",children:c.jsx("div",{className:"bg-white/90 backdrop-blur-md rounded-2xl p-8 shadow-xl border border-amber-200/50",children:c.jsx("p",{className:"text-gray-600 text-lg",dir:"rtl",children:"لا توجد عناصر متاحة في هذا القسم حالياً"})})})]});const o=(a,u)=>{const d=a.toString();i(h=>({...h,[d]:u}))},l=a=>{var u;if(a.sizes&&a.sizes.length>0){const d=a.id.toString(),h=s[d]||a.sizes[0].size,m=((u=a.sizes.find(y=>y.size===h))==null?void 0:u.price)||a.price;n(a,h,m)}else n(a)};return c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[c.jsx("span",{className:"text-3xl",children:r}),c.jsx("h2",{className:"text-2xl font-bold",dir:"rtl",style:{color:"#d4a574"},children:t}),c.jsx("span",{className:"text-3xl",children:r})]}),c.jsx("div",{className:"menu-grid grid gap-4 lg:gap-6",children:e.map(a=>{var u;return c.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-300 overflow-hidden menu-item-hover",style:{borderColor:"#87512f30"},children:[a.image&&c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:a.image,alt:a.name,className:"w-full h-48 object-cover"}),c.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[a.popular&&c.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:"الأكثر طلباً"}),a.new&&c.jsx("span",{className:"bg-green-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:"جديد"})]})]}),c.jsxs("div",{className:"p-4",children:[c.jsx("div",{className:"flex justify-between items-start mb-3",dir:"rtl",children:c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"flex items-center gap-2 mb-1",children:c.jsx("h3",{className:"text-lg font-bold text-gray-800 leading-tight",children:a.name})}),a.description&&c.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:a.description}),a.calories&&a.calories>0&&c.jsxs("p",{className:"text-gray-500 text-xs mt-1",dir:"rtl",children:["🔥 ",a.calories," كالوري"]})]})}),a.sizes&&a.sizes.length>0&&c.jsxs("div",{className:"mb-3",dir:"rtl",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الحجم:"}),c.jsx("select",{value:s[a.id.toString()]||a.sizes[0].size,onChange:d=>o(a.id.toString(),d.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":"#87512f"},children:a.sizes.map(d=>c.jsxs("option",{value:d.size,children:[d.size," - ",d.price," ر.س"]},d.size))})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"text-right",children:[a.isOffer&&a.originalPrice&&c.jsxs("div",{className:"flex items-center gap-2 justify-end mb-1",children:[c.jsxs("span",{className:"text-gray-400 line-through text-sm",children:[a.originalPrice," ر.س"]}),c.jsxs("span",{className:"bg-green-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:["وفر ",a.originalPrice-a.price," ر.س"]})]}),c.jsx("div",{className:"text-xl font-bold",style:{color:"#d4a574"},children:a.sizes&&a.sizes.length>0?`${((u=a.sizes.find(d=>d.size===(s[a.id.toString()]||a.sizes[0].size)))==null?void 0:u.price)||a.price} ر.س`:`${a.price} ر.س`})]}),c.jsxs("button",{onClick:()=>l(a),className:"text-white px-4 py-2 rounded-lg transition-all duration-300 font-medium flex items-center gap-2 shadow-md hover:shadow-lg",style:{background:"linear-gradient(to right, #d4a574, #c49660)",":hover":{background:"linear-gradient(to right, #c49660, #b8864c)"}},children:[c.jsx(fn,{className:"w-4 h-4"}),c.jsx("span",{dir:"rtl",children:a.isOffer?"اطلب الآن":"أضف للسلة"})]})]})]})]},a.id)})})]})},mm=({isOpen:t,onClose:e,cartItems:r,tableNumber:n,setTableNumber:s,updateQuantity:i,removeFromCart:o,getTotalPrice:l,clearCart:a})=>{if(!t)return null;const u=()=>{const d=r.map(_=>`${_.name}${_.selectedSize?` (${_.selectedSize})`:""} x${_.quantity} = ${(_.selectedPrice||_.price)*_.quantity} ر.س`).join(`
`),h=l(),y=`طلب جديد من مقهى موال مراكش:${n?`
رقم الطاولة: ${n}`:`
طلب تيك أواي`}

${d}

الإجمالي: ${h} ر.س`,x=`https://wa.me/966567833138?text=${encodeURIComponent(y)}`;window.open(x,"_blank")};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-end",children:c.jsxs("div",{className:"bg-white w-full max-w-md h-full overflow-y-auto",children:[c.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800",dir:"rtl",children:"سلة الطلبات"}),c.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:c.jsx(Xo,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"p-4",children:[r.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(lm,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500",dir:"rtl",children:"السلة فارغة"})]}):c.jsx(c.Fragment,{children:c.jsx("div",{className:"space-y-4 mb-6",children:r.map((d,h)=>c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",dir:"rtl",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-800",children:d.name}),d.selectedSize&&c.jsxs("p",{className:"text-sm text-gray-600",children:["الحجم: ",d.selectedSize]})]}),c.jsx("button",{onClick:()=>o(d.id,d.selectedSize),className:"text-red-500 hover:text-red-700 p-1",children:c.jsx(Xo,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>i(d.id,d.quantity-1,d.selectedSize),className:"bg-gray-200 hover:bg-gray-300 rounded-full p-1 transition-colors",children:c.jsx(sm,{className:"w-4 h-4"})}),c.jsx("span",{className:"font-semibold",children:d.quantity}),c.jsx("button",{onClick:()=>i(d.id,d.quantity+1,d.selectedSize),className:"bg-gray-200 hover:bg-gray-300 rounded-full p-1 transition-colors",children:c.jsx(fn,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"text-amber-600 font-bold",children:[(d.selectedPrice||d.price)*d.quantity," ر.س"]})]})]},`${d.id}-${d.selectedSize}-${h}`))})}),c.jsxs("div",{className:"border-t border-gray-200 pt-4 mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",dir:"rtl",children:"رقم الطاولة (اختياري)"}),c.jsx("input",{type:"text",value:n,onChange:d=>s(d.target.value),placeholder:"أدخل رقم الطاولة أو اتركه فارغاً للتيك أواي",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent text-center",dir:"rtl"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1 text-center",dir:"rtl",children:'إذا تركت الحقل فارغاً، سيتم اعتبار الطلب "تيك أواي"'})]}),c.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",dir:"rtl",children:[c.jsx("span",{className:"text-xl font-bold text-gray-800",children:"الإجمالي:"}),c.jsxs("span",{className:"text-2xl font-bold text-amber-600",children:[l()," ر.س"]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:u,className:"w-full bg-gradient-to-r from-green-500 to-green-600 text-white py-3 rounded-lg font-semibold hover:from-green-600 hover:to-green-700 transition-all duration-300",dir:"rtl",children:n?`إرسال الطلب - طاولة ${n}`:"إرسال الطلب - تيك أواي"}),c.jsx("button",{onClick:a,className:"w-full bg-gray-200 text-gray-700 py-2 rounded-lg font-semibold hover:bg-gray-300 transition-colors",dir:"rtl",children:"إفراغ السلة"})]})]})]})]})})},gm="modulepreload",vm=function(t){return"/"+t},gu={},Fn=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(a=>{if(a=vm(a),a in gu)return;gu[a]=!0;const u=a.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":gm,u||(h.as="script"),h.crossOrigin="",h.href=a,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((m,y)=>{h.addEventListener("load",m),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},ym=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Fn(async()=>{const{default:n}=await Promise.resolve().then(()=>Mr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class ta extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class wm extends ta{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class vu extends ta{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class yu extends ta{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Zo;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Zo||(Zo={}));var xm=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function a(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((n=n.apply(t,e||[])).next())})};class _m{constructor(e,{headers:r={},customFetch:n,region:s=Zo.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=ym(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return xm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:a}=r;a||(a=this.region);const u=new URL(`${this.url}/${e}`);a&&a!=="any"&&(l["x-region"]=a,u.searchParams.set("forceFunctionRegion",a));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(_=>{throw new wm(_)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new vu(h);if(!h.ok)throw new yu(h);let y=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),x;return y==="application/json"?x=yield h.json():y==="application/octet-stream"?x=yield h.blob():y==="text/event-stream"?x=h:y==="multipart/form-data"?x=yield h.formData():x=yield h.text(),{data:x,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof yu||s instanceof vu?s.context:void 0}}})}}var je={},ra={},pi={},Bn={},mi={},gi={},km=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Lr=km();const Sm=Lr.fetch,Gd=Lr.fetch.bind(Lr),Jd=Lr.Headers,jm=Lr.Request,bm=Lr.Response,Mr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Jd,Request:jm,Response:bm,default:Gd,fetch:Sm},Symbol.toStringTag,{value:"Module"})),Em=_h(Mr);var vi={};Object.defineProperty(vi,"__esModule",{value:!0});let Nm=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};vi.default=Nm;var Yd=Me&&Me.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gi,"__esModule",{value:!0});const Cm=Yd(Em),Pm=Yd(vi);let Tm=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Cm.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a;let u=null,d=null,h=null,m=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const _=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),N=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");_&&N&&N.length>1&&(h=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const _=await i.text();try{u=JSON.parse(_),Array.isArray(u)&&i.status===404&&(d=[],u=null,m=200,y="OK")}catch{i.status===404&&_===""?(m=204,y="No Content"):u={message:_}}if(u&&this.isMaybeSingle&&(!((a=u==null?void 0:u.details)===null||a===void 0)&&a.includes("0 rows"))&&(u=null,m=200,y="OK"),u&&this.shouldThrowOnError)throw new Pm.default(u)}return{error:u,data:d,count:h,status:m,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};gi.default=Tm;var Om=Me&&Me.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mi,"__esModule",{value:!0});const Im=Om(gi);let $m=class extends Im.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${a};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};mi.default=$m;var Rm=Me&&Me.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bn,"__esModule",{value:!0});const Am=Rm(mi);let Lm=class extends Am.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Bn.default=Lm;var zm=Me&&Me.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pi,"__esModule",{value:!0});const Yr=zm(Bn);let Um=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Yr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new Yr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const a=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(a.length>0){const u=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Yr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Yr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Yr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};pi.default=Um;var yi={},wi={};Object.defineProperty(wi,"__esModule",{value:!0});wi.version=void 0;wi.version="0.0.0-automated";Object.defineProperty(yi,"__esModule",{value:!0});yi.DEFAULT_HEADERS=void 0;const Dm=wi;yi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Dm.version}`};var Xd=Me&&Me.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ra,"__esModule",{value:!0});const Mm=Xd(pi),Fm=Xd(Bn),Bm=yi;let Vm=class Zd{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Bm.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new Mm.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Zd(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let a;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",a=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Fm.default({method:o,url:l,headers:u,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};ra.default=Vm;var Fr=Me&&Me.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(je,"__esModule",{value:!0});je.PostgrestError=je.PostgrestBuilder=je.PostgrestTransformBuilder=je.PostgrestFilterBuilder=je.PostgrestQueryBuilder=je.PostgrestClient=void 0;const eh=Fr(ra);je.PostgrestClient=eh.default;const th=Fr(pi);je.PostgrestQueryBuilder=th.default;const rh=Fr(Bn);je.PostgrestFilterBuilder=rh.default;const nh=Fr(mi);je.PostgrestTransformBuilder=nh.default;const sh=Fr(gi);je.PostgrestBuilder=sh.default;const ih=Fr(vi);je.PostgrestError=ih.default;var Wm=je.default={PostgrestClient:eh.default,PostgrestQueryBuilder:th.default,PostgrestFilterBuilder:rh.default,PostgrestTransformBuilder:nh.default,PostgrestBuilder:sh.default,PostgrestError:ih.default};const{PostgrestClient:Hm,PostgrestQueryBuilder:V0,PostgrestFilterBuilder:W0,PostgrestTransformBuilder:H0,PostgrestBuilder:q0,PostgrestError:K0}=Wm;function qm(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Km=qm(),Qm="2.11.15",Gm=`realtime-js/${Qm}`,Jm="1.0.0",oh=1e4,Ym=1e3;var pn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(pn||(pn={}));var me;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(me||(me={}));var Ke;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ke||(Ke={}));var el;(function(t){t.websocket="websocket"})(el||(el={}));var Ht;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ht||(Ht={}));class Xm{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+s));o=o+s;const a=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:u}}}class lh{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var F;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(F||(F={}));const wu=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=Zm(o,t,e,s),i),{})},Zm=(t,e,r,n)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?ah(i,o):tl(o)},ah=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return ng(e,r)}switch(t){case F.bool:return eg(e);case F.float4:case F.float8:case F.int2:case F.int4:case F.int8:case F.numeric:case F.oid:return tg(e);case F.json:case F.jsonb:return rg(e);case F.timestamp:return sg(e);case F.abstime:case F.date:case F.daterange:case F.int4range:case F.int8range:case F.money:case F.reltime:case F.text:case F.time:case F.timestamptz:case F.timetz:case F.tsrange:case F.tstzrange:return tl(e);default:return tl(e)}},tl=t=>t,eg=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},tg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},rg=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ng=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>ah(e,l))}return t},sg=t=>typeof t=="string"?t.replace(" ","T"):t,uh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Yi{constructor(e,r,n={},s=oh){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var xu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(xu||(xu={}));class mn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=mn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=mn.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=mn.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),l={},a={};return this.map(i,(u,d)=>{o[u]||(a[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const m=d.map(N=>N.presence_ref),y=h.map(N=>N.presence_ref),x=d.filter(N=>y.indexOf(N.presence_ref)<0),_=h.filter(N=>m.indexOf(N.presence_ref)<0);x.length>0&&(l[u]=x),_.length>0&&(a[u]=_)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:a},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(a),d.length>0){const h=e[l].map(y=>y.presence_ref),m=d.filter(y=>h.indexOf(y.presence_ref)<0);e[l].unshift(...m)}n(l,d,a)}),this.map(o,(l,a)=>{let u=e[l];if(!u)return;const d=a.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,s(l,u,a),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _u;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(_u||(_u={}));var ku;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ku||(ku={}));var it;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(it||(it={}));class na{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=me.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Yi(this,Ke.join,this.params,this.timeout),this.rejoinTimer=new lh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=me.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=me.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ke.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new mn(this),this.broadcastEndpointURL=uh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==me.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>e==null?void 0:e(it.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(it.CLOSED));const a={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},a)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(it.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(h=m==null?void 0:m.length)!==null&&h!==void 0?h:0,x=[];for(let _=0;_<y;_++){const N=m[_],{filter:{event:g,schema:p,table:f,filter:v}}=N,k=d&&d[_];if(k&&k.event===g&&k.schema===p&&k.table===f&&k.filter===v)x.push(Object.assign(Object.assign({},N),{id:k.id}));else{this.unsubscribe(),this.state=me.errored,e==null||e(it.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(it.SUBSCRIBED);return}}).receive("error",d=>{this.state=me.errored,e==null||e(it.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(it.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=me.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ke.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Yi(this,Ke.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Yi(this,e,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:u,join:d}=Ke;if(n&&[l,a,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var x,_,N;return((x=y.filter)===null||x===void 0?void 0:x.event)==="*"||((N=(_=y.filter)===null||_===void 0?void 0:_.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===o}).map(y=>y.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var x,_,N,g,p,f;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const v=y.id,k=(x=y.filter)===null||x===void 0?void 0:x.event;return v&&((_=r.ids)===null||_===void 0?void 0:_.includes(v))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((N=r.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const v=(p=(g=y==null?void 0:y.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return v==="*"||v===((f=r==null?void 0:r.event)===null||f===void 0?void 0:f.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:_,table:N,commit_timestamp:g,type:p,errors:f}=x;m=Object.assign(Object.assign({},{schema:_,table:N,commit_timestamp:g,eventType:p,new:{},old:{},errors:f}),this._getPayloadRecords(x))}y.callback(m,n)})}_isClosed(){return this.state===me.closed}_isJoined(){return this.state===me.joined}_isJoining(){return this.state===me.joining}_isLeaving(){return this.state===me.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&na.isEqual(s.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ke.close,{},e)}_onError(e){this._on(Ke.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=me.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=wu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=wu(e.columns,e.old_record)),r}}const Su=()=>{},ig=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class og{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=oh,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Su,this.ref=0,this.logger=Su,this.conn=null,this.sendBuffer=[],this.serializer=new Xm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Fn(async()=>{const{default:a}=await Promise.resolve().then(()=>Mr);return{default:a}},void 0).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${el.websocket}`,this.httpEndpoint=uh(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new lh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Km),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Jm}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case pn.connecting:return Ht.Connecting;case pn.open:return Ht.Open;case pn.closing:return Ht.Closing;default:return Ht.Closed}}isConnected(){return this.connectionState()===Ht.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new na(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Gm};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ke.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Ym,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ke.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([ig],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class sa extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function le(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class lg extends sa{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class rl extends sa{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var ag=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function a(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((n=n.apply(t,e||[])).next())})};const ch=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Fn(async()=>{const{default:n}=await Promise.resolve().then(()=>Mr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},ug=()=>ag(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Fn(()=>Promise.resolve().then(()=>Mr),void 0)).Response:Response}),nl=t=>{if(Array.isArray(t))return t.map(r=>nl(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=nl(n)}),e};var sr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function a(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((n=n.apply(t,e||[])).next())})};const Xi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),cg=(t,e,r)=>sr(void 0,void 0,void 0,function*(){const n=yield ug();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{e(new lg(Xi(s),t.status||500))}).catch(s=>{e(new rl(Xi(s),s))}):e(new rl(Xi(t),t))}),dg=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Vn(t,e,r,n,s,i){return sr(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,dg(e,n,s,i)).then(a=>{if(!a.ok)throw a;return n!=null&&n.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>cg(a,l,n))})})}function Js(t,e,r,n){return sr(this,void 0,void 0,function*(){return Vn(t,"GET",e,r,n)})}function wt(t,e,r,n,s){return sr(this,void 0,void 0,function*(){return Vn(t,"POST",e,n,s,r)})}function hg(t,e,r,n,s){return sr(this,void 0,void 0,function*(){return Vn(t,"PUT",e,n,s,r)})}function fg(t,e,r,n){return sr(this,void 0,void 0,function*(){return Vn(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function dh(t,e,r,n,s){return sr(this,void 0,void 0,function*(){return Vn(t,"DELETE",e,n,s,r)})}var ke=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function a(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((n=n.apply(t,e||[])).next())})};const pg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ju={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mg{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=ch(s)}uploadOrUpdate(e,r,n,s){return ke(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ju),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),m=yield h.json();return h.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(le(i))return{data:null,error:i};throw i}})}upload(e,r,n){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return ke(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let a;const u=Object.assign({upsert:ju.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",u.cacheControl)):(a=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:d}),m=yield h.json();return h.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(a){if(le(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,r){return ke(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield wt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new sa("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}})}update(e,r,n){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return ke(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}})}copy(e,r,n){return ke(this,void 0,void 0,function*(){try{return{data:{path:(yield wt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return ke(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield wt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return ke(this,void 0,void 0,function*(){try{const s=yield wt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}})}download(e,r){return ke(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Js(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(le(l))return{data:null,error:l};throw l}})}info(e){return ke(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Js(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:nl(n),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}})}exists(e){return ke(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield fg(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(le(n)&&n instanceof rl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});a!==""&&s.push(a);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return ke(this,void 0,void 0,function*(){try{return{data:yield dh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}list(e,r,n){return ke(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},pg),r),{prefix:e||""});return{data:yield wt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const gg="2.7.1",vg={"X-Client-Info":`storage-js/${gg}`};var or=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function a(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((n=n.apply(t,e||[])).next())})};class yg{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},vg),r),this.fetch=ch(n)}listBuckets(){return or(this,void 0,void 0,function*(){try{return{data:yield Js(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(le(e))return{data:null,error:e};throw e}})}getBucket(e){return or(this,void 0,void 0,function*(){try{return{data:yield Js(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return or(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return or(this,void 0,void 0,function*(){try{return{data:yield hg(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}})}emptyBucket(e){return or(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}deleteBucket(e){return or(this,void 0,void 0,function*(){try{return{data:yield dh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}}class wg extends yg{constructor(e,r={},n){super(e,r,n)}from(e){return new mg(this.url,this.headers,e,this.fetch)}}const xg="2.50.5";let rn="";typeof Deno<"u"?rn="deno":typeof document<"u"?rn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?rn="react-native":rn="node";const _g={"X-Client-Info":`supabase-js-${rn}/${xg}`},kg={headers:_g},Sg={schema:"public"},jg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bg={};var Eg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function a(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((n=n.apply(t,e||[])).next())})};const Ng=t=>{let e;return t?e=t:typeof fetch>"u"?e=Gd:e=fetch,(...r)=>e(...r)},Cg=()=>typeof Headers>"u"?Jd:Headers,Pg=(t,e,r)=>{const n=Ng(r),s=Cg();return(i,o)=>Eg(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var Tg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function a(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((n=n.apply(t,e||[])).next())})};function Og(t){return t.endsWith("/")?t:t+"/"}function Ig(t,e){var r,n;const{db:s,auth:i,realtime:o,global:l}=t,{db:a,auth:u,realtime:d,global:h}=e,m={db:Object.assign(Object.assign({},a),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Tg(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}const hh="2.70.0",cr=30*1e3,sl=3,Zi=sl*cr,$g="http://localhost:9999",Rg="supabase.auth.token",Ag={"X-Client-Info":`gotrue-js/${hh}`},il="X-Supabase-Api-Version",fh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Lg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zg=6e5;class ia extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function $(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Ug extends ia{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Dg(t){return $(t)&&t.name==="AuthApiError"}class ph extends ia{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Ut extends ia{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class gt extends Ut{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Mg(t){return $(t)&&t.name==="AuthSessionMissingError"}class us extends Ut{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cs extends Ut{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ds extends Ut{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Fg(t){return $(t)&&t.name==="AuthImplicitGrantRedirectError"}class bu extends Ut{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ol extends Ut{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function eo(t){return $(t)&&t.name==="AuthRetryableFetchError"}class Eu extends Ut{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class gn extends Ut{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ys="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Nu=` 	
\r=`.split(""),Bg=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Nu.length;e+=1)t[Nu[e].charCodeAt(0)]=-2;for(let e=0;e<Ys.length;e+=1)t[Ys[e].charCodeAt(0)]=e;return t})();function Cu(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ys[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ys[n]),e.queuedBits-=6}}function mh(t,e,r){const n=Bg[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Pu(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Hg(o,n,r)};for(let o=0;o<t.length;o+=1)mh(t.charCodeAt(o),s,i);return e.join("")}function Vg(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Wg(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Vg(n,e)}}function Hg(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function qg(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)mh(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Kg(t){const e=[];return Wg(t,r=>e.push(r)),new Uint8Array(e)}function Qg(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Cu(s,r,n)),Cu(null,r,n),e.join("")}function Gg(t){return Math.round(Date.now()/1e3)+t}function Jg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const We=()=>typeof window<"u"&&typeof document<"u",Ft={tested:!1,writable:!1},vn=()=>{if(!We())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ft.tested)return Ft.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ft.tested=!0,Ft.writable=!0}catch{Ft.tested=!0,Ft.writable=!1}return Ft.writable};function Yg(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const gh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Fn(async()=>{const{default:n}=await Promise.resolve().then(()=>Mr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Xg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",vh=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},hs=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},fs=async(t,e)=>{await t.removeItem(e)};class xi{constructor(){this.promise=new xi.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}xi.promiseConstructor=Promise;function to(t){const e=t.split(".");if(e.length!==3)throw new gn("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Lg.test(e[n]))throw new gn("JWT not in base64url format");return{header:JSON.parse(Pu(e[0])),payload:JSON.parse(Pu(e[1])),signature:qg(e[2]),raw:{header:e[0],payload:e[1]}}}async function Zg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function e0(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function t0(t){return("0"+t.toString(16)).substr(-2)}function r0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,t0).join("")}async function n0(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function s0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await n0(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function lr(t,e,r=!1){const n=r0();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await vh(t,`${e}-code-verifier`,s);const i=await s0(n);return[i,n===i?"plain":"s256"]}const i0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function o0(t){const e=t.headers.get(il);if(!e||!e.match(i0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function l0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function a0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const u0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ar(t){if(!u0.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var c0=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const Wt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),d0=[502,503,504];async function Tu(t){var e;if(!Xg(t))throw new ol(Wt(t),0);if(d0.includes(t.status))throw new ol(Wt(t),t.status);let r;try{r=await t.json()}catch(i){throw new ph(Wt(i),i)}let n;const s=o0(t);if(s&&s.getTime()>=fh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Eu(Wt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new gt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Eu(Wt(r),t.status,r.weak_password.reasons);throw new Ug(Wt(r),t.status||500,n)}const h0=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function z(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[il]||(i[il]=fh["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await f0(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(a):{data:Object.assign({},a),error:null}}async function f0(t,e,r,n,s,i){const o=h0(e,n,s,i);let l;try{l=await t(r,Object.assign({},o))}catch(a){throw console.error(a),new ol(Wt(a),0)}if(l.ok||await Tu(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(a){await Tu(a)}}function nt(t){var e;let r=null;v0(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Gg(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Ou(t){const e=nt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function kt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function p0(t){return{data:t,error:null}}function m0(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=c0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function g0(t){return t}function v0(t){return t.access_token&&t.refresh_token&&t.expires_in}const ro=["global","local","others"];var y0=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class w0{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=gh(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=ro[0]){if(ro.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ro.join(", ")}`);try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:kt})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=y0(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:m0,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if($(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:kt})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,l,a;try{const u={nextPage:null,lastPage:0,total:0},d=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:g0});if(d.error)throw d.error;const h=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(a=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return y.length>0&&(y.forEach(x=>{const _=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(x.split(";")[1].split("=")[1]);u[`${N}Page`]=_}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if($(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){ar(e);try{return await z(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:kt})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){ar(e);try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:kt})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){ar(e);try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:kt})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){ar(e.userId);try{const{data:r,error:n}=await z(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if($(r))return{data:null,error:r};throw r}}async _deleteFactor(e){ar(e.userId),ar(e.id);try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}}const x0={getItem:t=>vn()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{vn()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{vn()&&globalThis.localStorage.removeItem(t)}};function Iu(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function _0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ur={debug:!!(globalThis&&vn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class k0 extends yh{}async function S0(t,e,r){ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ur.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new k0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ur.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}_0();const j0={url:$g,storageKey:Rg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ag,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function $u(t,e,r){return await r()}class An{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=An.nextInstanceID,An.nextInstanceID+=1,this.instanceID>0&&We()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},j0),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new w0({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=gh(s.fetch),this.lock=s.lock||$u,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:We()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=S0:this.lock=$u,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:vn()?this.storage=x0:(this.memoryStorage={},this.storage=Iu(this.memoryStorage)):(this.memoryStorage={},this.storage=Iu(this.memoryStorage)),We()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${hh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Yg(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),We()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Fg(i)){const a=(e=i.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return $(r)?{error:r}:{error:new ph("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:nt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:m}=e;let y=null,x=null;this.flowType==="pkce"&&([y,x]=await lr(this.storage,this.storageKey)),i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:x},xform:nt})}else if("phone"in e){const{phone:d,password:h,options:m}=e;i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:nt})}else throw new cs("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ou})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ou})}else throw new cs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new us}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,o,l,a,u,d,h,m,y;let x,_;if("message"in e)x=e.message,_=e.signature;else{const{chain:N,wallet:g,statement:p,options:f}=e;let v;if(We())if(typeof g=="object")v=g;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))v=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=g}const k=new URL((r=f==null?void 0:f.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in v&&v.signIn){const j=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},f==null?void 0:f.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),p?{statement:p}:null));let P;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")P=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)P=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)x=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),_=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in v)||typeof v.signMessage!="function"||!("publicKey"in v)||typeof v!="object"||!v.publicKey||!("toBase58"in v.publicKey)||typeof v.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${k.host} wants you to sign in with your Solana account:`,v.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(n=f==null?void 0:f.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=f==null?void 0:f.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${f.signInWithSolana.notBefore}`]:[],...!((o=f==null?void 0:f.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${f.signInWithSolana.expirationTime}`]:[],...!((l=f==null?void 0:f.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${f.signInWithSolana.chainId}`]:[],...!((a=f==null?void 0:f.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${f.signInWithSolana.nonce}`]:[],...!((u=f==null?void 0:f.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${f.signInWithSolana.requestId}`]:[],...!((h=(d=f==null?void 0:f.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...f.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const j=await v.signMessage(new TextEncoder().encode(x),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=j}}try{const{data:N,error:g}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Qg(_)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:nt});if(g)throw g;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new us}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:g})}catch(N){if($(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(e){const r=await hs(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:nt});if(await fs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new us}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if($(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,l=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:nt}),{data:a,error:u}=l;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new us}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:u})}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:l,options:a}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await lr(this.storage,this.storageKey));const{error:h}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=a==null?void 0:a.data)!==null&&r!==void 0?r:{},create_user:(n=a==null?void 0:a.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:a}=e,{data:u,error:d}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new cs("You must provide either an email or phone number.")}catch(l){if($(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:nt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,u=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(s){if($(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await lr(this.storage,this.storageKey)),await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:p0})}catch(i){if($(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new gt;const{error:s}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if($(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await z(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:l}=await z(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new cs("You must provide either an email or phone number and a type")}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await hs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Zi:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:kt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gt}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:kt})})}catch(r){if($(r))return Mg(r)&&(await this._removeSession(),await fs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new gt;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await lr(this.storage,this.storageKey));const{data:u,error:d}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:kt});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new gt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=to(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if($(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new gt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!We())throw new ds("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ds(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new bu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ds("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new bu("No code detected.");const{data:p,error:f}=await this._exchangeCodeForSession(e.code);if(f)throw f;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:u}=e;if(!i||!l||!o||!u)throw new ds("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;a&&(m=parseInt(a));const y=m-d;y*1e3<=cr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const x=m-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,d);const{data:_,error:N}=await this._getUser(i);if(N)throw N;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if($(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await hs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Dg(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await fs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Jg(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await lr(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if($(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,a,u,d;const{data:h,error:m}=i;if(m)throw m;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return We()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if($(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await e0(async s=>(s>0&&await Zg(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:nt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&eo(i)&&Date.now()+o-n<cr})}catch(n){if(this._debug(r,"error",n),$(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),We()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await hs(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Zi;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Zi}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),eo(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new gt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new xi;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new gt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),$(i)){const o={session:null,error:i};return eo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await vh(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await fs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&We()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),cr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/cr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${cr}ms, refresh threshold is ${sl} ticks`),s<=sl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof yh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!We()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await lr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await z(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:u}=await z(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if($(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=to(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n||(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+zg>Date.now()))return n;const{data:s,error:i}=await z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new gn("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===e),!n)throw new gn("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:y,error:x}=await this.getSession();if(x||!y.session)return{data:null,error:x};n=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:a}}=to(n);if(l0(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const u=a0(s.alg),d=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Kg(`${l}.${a}`)))throw new gn("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}}An.nextInstanceID=0;const b0=An;class E0 extends b0{constructor(e){super(e)}}var N0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function a(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((n=n.apply(t,e||[])).next())})};class C0{constructor(e,r,n){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Og(e),a=new URL(l);this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const u=`sb-${a.hostname.split(".")[0]}-auth-token`,d={db:Sg,realtime:bg,auth:Object.assign(Object.assign({},jg),{storageKey:u}),global:kg},h=Ig(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Pg(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Hm(new URL("rest/v1",a).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new _m(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new wg(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return N0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:a},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new E0({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:a,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new og(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const P0=(t,e,r)=>new C0(t,e,r),no="https://ubvaooxyfpxlkpcmhdfl.supabase.co",so="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVidmFvb3h5ZnB4bGtwY21oZGZsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIwODQ1NDIsImV4cCI6MjA2NzY2MDU0Mn0.yoNi7slVWd4w3uPGpp2n-BTa2IS9h_zT4kmPg7jjIJU";let G=null;try{no&&so&&no!=="your_supabase_url_here"&&so!=="your_supabase_anon_key_here"&&(G=P0(no,so),console.log("✅ Supabase client created successfully"))}catch(t){console.warn("❌ Failed to create Supabase client:",t)}G||(G={from:t=>({select:e=>Promise.resolve({data:[],error:new Error(`Supabase not configured - attempted to select from ${t}`)}),insert:e=>Promise.resolve({data:[],error:new Error(`Supabase not configured - attempted to insert into ${t}`)}),update:e=>Promise.resolve({data:[],error:new Error(`Supabase not configured - attempted to update ${t}`)}),delete:()=>Promise.resolve({data:[],error:new Error(`Supabase not configured - attempted to delete from ${t}`)}),eq:function(e,r){return this},order:function(e,r){return this},limit:function(e){return this},single:function(){return this}})});const T0=()=>{const[t,e]=A.useState([]),[r,n]=A.useState([]),[s,i]=A.useState([]),[o,l]=A.useState(!1),[a,u]=A.useState(null),d=A.useCallback(async()=>{l(!0),u(null);try{const{data:w,error:S}=await G.from("menu_sections").select("*").order("order_index");if(S)throw S;e(w||[]);const{data:C,error:I}=await G.from("menu_items").select("*").order("order_index");if(I)throw I;n(C||[]);const{data:Y,error:te}=await G.from("special_offers").select("*").order("created_at",{ascending:!1});if(te)throw te;i(Y||[])}catch(w){console.error("Error fetching data:",w),u(w.message||"فشل في تحميل البيانات")}finally{l(!1)}},[]),h=w=>{u(w)},m=w=>new Promise((S,C)=>{const I=new FileReader;I.onload=()=>S(I.result),I.onerror=C,I.readAsDataURL(w)}),y=w=>{if(!w||w.startsWith("data:image/"))return!0;try{return new URL(w),!0}catch{return!1}};return{sections:t,items:r,offers:s,loading:o,error:a,fetchData:d,setError:h,addSection:async w=>{l(!0),u(null);try{console.log("➕ Adding new section:",w),w.image&&!y(w.image)&&(console.warn("Invalid image URL, proceeding without image"),w.image="");const{data:S,error:C}=await G.from("menu_sections").insert([{title:w.title,icon:w.icon,image:w.image||"",order_index:w.order_index||0}]).select();if(C)throw console.error("❌ Error adding section:",C),new Error(`فشل في إضافة القسم: ${C.message}`);return console.log("✅ Section added successfully:",S),await d(),S}catch(S){return console.error("❌ Add section failed:",S),u(S.message||"فشل في إضافة القسم"),null}finally{l(!1)}},updateSection:async(w,S)=>{l(!0),u(null);try{if(console.log("✏️ Updating section:",w,S),S.image&&!y(S.image))throw new Error("رابط الصورة غير صحيح");const{data:C,error:I}=await G.from("menu_sections").update({title:S.title,icon:S.icon,image:S.image,order_index:S.order_index,updated_at:new Date().toISOString()}).eq("id",w).select();if(I)throw console.error("❌ Error updating section:",I),I;return console.log("✅ Section updated successfully:",C),await d(),C}catch(C){throw console.error("❌ Update section failed:",C),u(C.message||"فشل في تحديث القسم"),C}finally{l(!1)}},deleteSection:async w=>{l(!0),u(null);try{console.log("🗑️ Deleting section:",w);const{error:S}=await G.from("menu_sections").delete().eq("id",w);if(S)throw console.error("❌ Error deleting section:",S),S;console.log("✅ Section deleted successfully"),await d()}catch(S){throw console.error("❌ Delete section failed:",S),u(S.message||"فشل في حذف القسم"),S}finally{l(!1)}},addItem:async w=>{l(!0),u(null);try{if(console.log("➕ Adding new menu item:",w),w.image&&!y(w.image))throw new Error("رابط الصورة غير صحيح");if(!w.name||w.name.trim()==="")throw new Error("يجب إدخال اسم الصنف");if(!w.section_id)throw new Error("يجب اختيار القسم");if(!w.price||w.price<=0)throw new Error("يجب إدخال سعر صحيح");const{data:S,error:C}=await G.from("menu_items").insert([{section_id:w.section_id,name:w.name,description:w.description||"",price:w.price,calories:w.calories||null,image:w.image||"",popular:w.popular||!1,new:w.new||!1,available:w.available!==!1,order_index:w.order_index||0}]).select();if(C)throw console.error("❌ Error adding menu item:",C),new Error(`فشل في إضافة الصنف: ${C.message}`);const I=S[0];if(w.sizes&&w.sizes.length>0){const Y=w.sizes.map(ie=>({item_id:I.id,size:ie.size,price:ie.price})),{error:te}=await G.from("menu_item_sizes").insert(Y);if(te)throw console.error("❌ Error adding sizes:",te),new Error(`فشل في إضافة الأحجام: ${te.message}`)}return console.log("✅ Menu item added successfully:",I),await d(),I}catch(S){throw console.error("❌ Add menu item failed:",S),u(S.message||"فشل في إضافة العنصر"),S}finally{l(!1)}},updateItem:async(w,S)=>{l(!0),u(null);try{if(console.log("✏️ Updating menu item:",w,S),S.image&&!y(S.image))throw new Error("رابط الصورة غير صحيح");const{data:C,error:I}=await G.from("menu_items").update({name:S.name,description:S.description,price:S.price,calories:S.calories,image:S.image,popular:S.popular,new:S.new,available:S.available,order_index:S.order_index,updated_at:new Date().toISOString()}).eq("id",w).select();if(I)throw console.error("❌ Error updating menu item:",I),I;if(S.sizes!==void 0&&(await G.from("menu_item_sizes").delete().eq("item_id",w),S.sizes&&S.sizes.length>0)){const Y=S.sizes.map(ie=>({item_id:w,size:ie.size,price:ie.price})),{error:te}=await G.from("menu_item_sizes").insert(Y);if(te)throw console.error("❌ Error updating sizes:",te),te}return console.log("✅ Menu item updated successfully:",C),await d(),C}catch(C){throw console.error("❌ Update menu item failed:",C),u(C.message||"فشل في تحديث العنصر"),C}finally{l(!1)}},deleteItem:async w=>{l(!0),u(null);try{console.log("🗑️ Deleting menu item:",w);const{error:S}=await G.from("menu_items").delete().eq("id",w);if(S)throw console.error("❌ Error deleting menu item:",S),S;console.log("✅ Menu item deleted successfully"),await d()}catch(S){throw console.error("❌ Delete menu item failed:",S),u(S.message||"فشل في حذف العنصر"),S}finally{l(!1)}},addOffer:async w=>{l(!0),u(null);try{console.log("➕ Adding new special offer:",w);const{data:S,error:C}=await G.from("special_offers").insert([{title:w.title,description:w.description,original_price:w.originalPrice,offer_price:w.offerPrice,valid_until:w.validUntil,image:w.image||"",calories:w.calories||null,active:!0}]).select();if(C)throw console.error("❌ Error adding special offer:",C),C;return console.log("✅ Special offer added successfully:",S),await d(),S}catch(S){throw console.error("❌ Add special offer failed:",S),u(`فشل في إضافة العرض: ${S.message}`),S}finally{l(!1)}},updateOffer:async(w,S)=>{l(!0),u(null);try{console.log("✏️ Updating special offer:",w,S);const{data:C,error:I}=await G.from("special_offers").update({title:S.title,description:S.description,original_price:S.originalPrice,offer_price:S.offerPrice,valid_until:S.validUntil,image:S.image,calories:S.calories,active:S.active!==!1,updated_at:new Date().toISOString()}).eq("id",w).select();if(I)throw console.error("❌ Error updating special offer:",I),I;return console.log("✅ Special offer updated successfully:",C),await d(),C}catch(C){throw console.error("❌ Update special offer failed:",C),u(`فشل في تحديث العرض: ${C.message}`),C}finally{l(!1)}},deleteOffer:async w=>{l(!0),u(null);try{console.log("🗑️ Deleting special offer:",w);const{error:S}=await G.from("special_offers").delete().eq("id",w);if(S)throw console.error("❌ Error deleting special offer:",S),S;console.log("✅ Special offer deleted successfully"),await d()}catch(S){throw console.error("❌ Delete special offer failed:",S),u(S.message||"فشل في حذف العرض"),S}finally{l(!1)}},uploadImage:async w=>{try{if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(w.type))throw new Error("نوع الملف غير مدعوم. يرجى استخدام JPEG, PNG, GIF, أو WebP");const C=5*1024*1024;if(w.size>C)throw new Error("حجم الملف كبير جداً. الحد الأقصى 5MB");return await m(w)}catch(S){throw console.error("❌ Image upload failed:",S),new Error(S.message||"فشل في رفع الصورة")}},convertImageToBase64:m,validateImageUrl:y}},wh=({message:t="جاري التحميل..."})=>c.jsx("div",{className:"flex items-center justify-center p-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto mb-4",style:{borderColor:"#d4a574"}}),c.jsx("p",{className:"font-medium",dir:"rtl",style:{color:"#d4a574"},children:t})]})}),O0=()=>{const{sections:t,items:e,offers:r,loading:n,error:s,addSection:i,updateSection:o,deleteSection:l,addItem:a,updateItem:u,deleteItem:d,addOffer:h,updateOffer:m,deleteOffer:y,fetchData:x}=T0(),[_,N]=A.useState("sections"),[g,p]=A.useState(null),[f,v]=A.useState(null),[k,j]=A.useState(null),[P,w]=A.useState(""),[S,C]=A.useState("");A.useEffect(()=>{x()},[x]);const I=async()=>{if(g)try{g.id?await o(g.id,g):await i(g),p(null),w("")}catch(b){console.error("Error saving section:",b)}},Y=async()=>{if(f)try{f.id?await u(f.id,f):await a(f),v(null),w("")}catch(b){console.error("Error saving item:",b)}},te=async()=>{if(k)try{k.id?await m(k.id,k):await h(k),j(null),w("")}catch(b){console.error("Error saving offer:",b)}},ie=({type:b,currentImage:Ae})=>c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"رابط الصورة"}),c.jsx("input",{type:"url",value:Ae||"",onChange:Br=>{const T=Br.target.value;b==="section"&&g?p({...g,image:T}):b==="item"&&f?v({...f,image:T}):b==="offer"&&k&&j({...k,image:T}),w(T)},className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500",placeholder:"https://example.com/image.jpg",disabled:n}),P&&c.jsx("div",{className:"mt-2",children:c.jsx("img",{src:P,alt:"معاينة",className:"w-32 h-32 object-cover rounded-lg border",onError:()=>C("رابط الصورة غير صحيح"),onLoad:()=>C("")})}),S&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:S})]});return n&&!t.length?c.jsx(wh,{}):s?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsxs("p",{className:"text-red-600 mb-4",children:["خطأ في تحميل البيانات: ",s]}),c.jsx("button",{onClick:x,className:"bg-amber-500 text-white px-4 py-2 rounded-lg hover:bg-amber-600",children:"إعادة المحاولة"})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50 p-6",dir:"rtl",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8 text-center",children:"لوحة التحكم"}),c.jsx("div",{className:"flex justify-center mb-8",children:c.jsxs("div",{className:"bg-white rounded-lg p-1 shadow-md",children:[c.jsx("button",{onClick:()=>N("sections"),className:`px-6 py-2 rounded-md transition-colors ${_==="sections"?"bg-amber-500 text-white":"text-gray-600 hover:text-amber-500"}`,children:"الأقسام"}),c.jsx("button",{onClick:()=>N("items"),className:`px-6 py-2 rounded-md transition-colors ${_==="items"?"bg-amber-500 text-white":"text-gray-600 hover:text-amber-500"}`,children:"الأصناف"}),c.jsx("button",{onClick:()=>N("offers"),className:`px-6 py-2 rounded-md transition-colors ${_==="offers"?"bg-amber-500 text-white":"text-gray-600 hover:text-amber-500"}`,children:"العروض الخاصة"})]})}),_==="sections"&&c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"إدارة الأقسام"}),c.jsxs("button",{onClick:()=>p({title:"",icon:"🍽️",image:"",orderIndex:t.length}),className:"bg-amber-500 text-white px-4 py-2 rounded-lg hover:bg-amber-600 transition-colors flex items-center gap-2",children:[c.jsx(fn,{className:"w-4 h-4"}),"إضافة قسم جديد"]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(b=>c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl",children:b.icon}),c.jsx("h3",{className:"font-semibold",children:b.title})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>p(b),className:"text-blue-500 hover:text-blue-700",children:c.jsx(Gi,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>l(b.id),className:"text-red-500 hover:text-red-700",children:c.jsx(Ji,{className:"w-4 h-4"})})]})]}),b.image&&c.jsx("img",{src:b.image,alt:b.title,className:"w-full h-32 object-cover rounded-md"})]},b.id))})]}),_==="items"&&c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"إدارة الأصناف"}),c.jsxs("button",{onClick:()=>v({name:"",description:"",price:0,calories:0,image:"",popular:!1,new:!1,available:!0,orderIndex:e.length}),className:"bg-amber-500 text-white px-4 py-2 rounded-lg hover:bg-amber-600 transition-colors flex items-center gap-2",children:[c.jsx(fn,{className:"w-4 h-4"}),"إضافة صنف جديد"]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(b=>c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h3",{className:"font-semibold",children:b.name}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>v(b),className:"text-blue-500 hover:text-blue-700",children:c.jsx(Gi,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>d(b.id),className:"text-red-500 hover:text-red-700",children:c.jsx(Ji,{className:"w-4 h-4"})})]})]}),c.jsx("p",{className:"text-gray-600 text-sm mb-2",children:b.description}),c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("span",{className:"font-bold text-amber-600",children:[b.price," ر.س"]}),b.calories>0&&c.jsxs("div",{className:"flex items-center gap-1 text-orange-600 text-sm",children:[c.jsx(mu,{className:"w-3 h-3"}),c.jsxs("span",{children:[b.calories," كالوري"]})]})]}),b.image&&c.jsx("img",{src:b.image,alt:b.name,className:"w-full h-32 object-cover rounded-md"}),c.jsxs("div",{className:"flex gap-2 mt-2",children:[b.popular&&c.jsx("span",{className:"bg-red-100 text-red-800 text-xs px-2 py-1 rounded",children:"شائع"}),b.new&&c.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded",children:"جديد"}),!b.available&&c.jsx("span",{className:"bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded",children:"غير متوفر"})]})]},b.id))})]}),_==="offers"&&c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"إدارة العروض الخاصة"}),c.jsxs("button",{onClick:()=>j({title:"",description:"",originalPrice:0,offerPrice:0,calories:0,validUntil:"",image:"",active:!0}),className:"bg-amber-500 text-white px-4 py-2 rounded-lg hover:bg-amber-600 transition-colors flex items-center gap-2",children:[c.jsx(fn,{className:"w-4 h-4"}),"إضافة عرض جديد"]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(b=>c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h3",{className:"font-semibold",children:b.title}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>j(b),className:"text-blue-500 hover:text-blue-700",children:c.jsx(Gi,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>y(b.id),className:"text-red-500 hover:text-red-700",children:c.jsx(Ji,{className:"w-4 h-4"})})]})]}),c.jsx("p",{className:"text-gray-600 text-sm mb-2",children:b.description}),c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{children:[c.jsxs("span",{className:"line-through text-gray-500 text-sm",children:[b.originalPrice," ر.س"]}),c.jsxs("span",{className:"font-bold text-red-600 mr-2",children:[b.offerPrice," ر.س"]})]}),b.calories>0&&c.jsxs("div",{className:"flex items-center gap-1 text-orange-600 text-sm",children:[c.jsx(mu,{className:"w-3 h-3"}),c.jsxs("span",{children:[b.calories," كالوري"]})]})]}),c.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["صالح حتى: ",b.validUntil]}),b.image&&c.jsx("img",{src:b.image,alt:b.title,className:"w-full h-32 object-cover rounded-md"}),c.jsx("div",{className:"mt-2",children:c.jsx("span",{className:`text-xs px-2 py-1 rounded ${b.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:b.active?"نشط":"غير نشط"})})]},b.id))})]}),g&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[c.jsx("h3",{className:"text-xl font-bold mb-4",children:g.id?"تعديل القسم":"إضافة قسم جديد"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"اسم القسم"}),c.jsx("input",{type:"text",value:g.title||"",onChange:b=>p({...g,title:b.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500",disabled:n})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الأيقونة"}),c.jsx("input",{type:"text",value:g.icon||"",onChange:b=>p({...g,icon:b.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500",disabled:n})]}),c.jsx(ie,{type:"section",currentImage:g.image})]}),c.jsxs("div",{className:"flex gap-3 mt-6",dir:"rtl",children:[c.jsxs("button",{onClick:I,disabled:n,className:"flex-1 bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition-colors flex items-center justify-center gap-2 disabled:bg-gray-400",children:[c.jsx(Qi,{className:"w-4 h-4"}),n?"جاري الحفظ...":"حفظ"]}),c.jsx("button",{onClick:()=>{p(null),w(""),C("")},className:"flex-1 bg-gray-500 text-white py-2 rounded-lg hover:bg-gray-600 transition-colors",disabled:n,children:"إلغاء"})]})]})}),f&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsx("h3",{className:"text-xl font-bold mb-4",children:f.id?"تعديل الصنف":"إضافة صنف جديد"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"اسم الصنف"}),c.jsx("input",{type:"text",value:f.name||"",onChange:b=>v({...f,name:b.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500",disabled:n})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الوصف"}),c.jsx("textarea",{value:f.description||"",onChange:b=>v({...f,description:b.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500",rows:3,disabled:n})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"السعر (ر.س)"}),c.jsx("input",{type:"number",value:f.price||0,onChange:b=>v({...f,price:Number(b.target.value)}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500",disabled:n,min:"0",step:"0.01"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"السعرات الحرارية"}),c.jsx("input",{type:"number",value:f.calories||0,onChange:b=>v({...f,calories:Number(b.target.value)}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500",disabled:n,min:"0"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"القسم"}),c.jsxs("select",{value:f.sectionId||"",onChange:b=>v({...f,sectionId:b.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500",disabled:n,children:[c.jsx("option",{value:"",children:"اختر القسم"}),t.map(b=>c.jsx("option",{value:b.id,children:b.title},b.id))]})]}),c.jsx(ie,{type:"item",currentImage:f.image}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:f.popular||!1,onChange:b=>v({...f,popular:b.target.checked}),className:"mr-2",disabled:n}),"شائع"]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:f.new||!1,onChange:b=>v({...f,new:b.target.checked}),className:"mr-2",disabled:n}),"جديد"]}),c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",checked:f.available!==!1,onChange:b=>v({...f,available:b.target.checked}),className:"mr-2",disabled:n}),"متوفر"]})]})]}),c.jsxs("div",{className:"flex gap-3 mt-6",dir:"rtl",children:[c.jsxs("button",{onClick:Y,disabled:n,className:"flex-1 bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition-colors flex items-center justify-center gap-2 disabled:bg-gray-400",children:[c.jsx(Qi,{className:"w-4 h-4"}),n?"جاري الحفظ...":"حفظ"]}),c.jsx("button",{onClick:()=>{v(null),w(""),C("")},className:"flex-1 bg-gray-500 text-white py-2 rounded-lg hover:bg-gray-600 transition-colors",disabled:n,children:"إلغاء"})]})]})}),k&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[c.jsx("h3",{className:"text-xl font-bold mb-4",children:k.id?"تعديل العرض":"إضافة عرض جديد"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"عنوان العرض"}),c.jsx("input",{type:"text",value:k.title||"",onChange:b=>j({...k,title:b.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500",disabled:n})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"وصف العرض"}),c.jsx("textarea",{value:k.description||"",onChange:b=>j({...k,description:b.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500",rows:3,disabled:n})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"السعر الأصلي (ر.س)"}),c.jsx("input",{type:"number",value:k.originalPrice||0,onChange:b=>j({...k,originalPrice:Number(b.target.value)}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500",disabled:n,min:"0",step:"0.01"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"سعر العرض (ر.س)"}),c.jsx("input",{type:"number",value:k.offerPrice||0,onChange:b=>j({...k,offerPrice:Number(b.target.value)}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500",disabled:n,min:"0",step:"0.01"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"السعرات الحرارية"}),c.jsx("input",{type:"number",value:k.calories||0,onChange:b=>j({...k,calories:Number(b.target.value)}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500",disabled:n,min:"0"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"تاريخ انتهاء العرض"}),c.jsx("input",{type:"date",value:k.validUntil||"",onChange:b=>j({...k,validUntil:b.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500",disabled:n})]}),c.jsx(ie,{type:"offer",currentImage:k.image})]}),c.jsxs("div",{className:"flex gap-3 mt-6",dir:"rtl",children:[c.jsxs("button",{onClick:te,disabled:n,className:"flex-1 bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition-colors flex items-center justify-center gap-2 disabled:bg-gray-400",children:[c.jsx(Qi,{className:"w-4 h-4"}),n?"جاري الحفظ...":"حفظ"]}),c.jsx("button",{onClick:()=>{j(null),w(""),C("")},className:"flex-1 bg-gray-500 text-white py-2 rounded-lg hover:bg-gray-600 transition-colors",disabled:n,children:"إلغاء"})]})]})})]})})},I0=({isOpen:t,onClose:e,onLogin:r})=>{const[n,s]=A.useState(""),[i,o]=A.useState(""),[l,a]=A.useState("");if(!t)return null;const u=d=>{d.preventDefault(),n==="Mm"&&i==="Mm123@#"?(r(),e(),a(""),s(""),o("")):a("اسم المستخدم أو كلمة المرور غير صحيحة")};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",dir:"rtl",children:"تسجيل الدخول"}),c.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:c.jsx(Xo,{className:"w-6 h-6"})})]}),c.jsxs("form",{onSubmit:u,className:"space-y-4",dir:"rtl",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"اسم المستخدم"}),c.jsxs("div",{className:"relative",children:[c.jsx(cm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:"text",value:n,onChange:d=>s(d.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"أدخل اسم المستخدم",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"كلمة المرور"}),c.jsxs("div",{className:"relative",children:[c.jsx(rm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:"password",value:i,onChange:d=>o(d.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"أدخل كلمة المرور",required:!0})]})]}),l&&c.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:l}),c.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-amber-500 to-orange-500 text-white py-3 rounded-lg font-semibold hover:from-amber-600 hover:to-orange-600 transition-all duration-300",children:"تسجيل الدخول"})]})]})})},$0=[{id:"section-hot-coffee",title:"القهوة الساخنة",icon:"☕",items:[{id:"item-1",name:"قهوة عربي",price:10,calories:5,image:"https://images.pexels.com/photos/302899/pexels-photo-302899.jpeg?auto=compress&cs=tinysrgb&w=400",description:"قهوة عربية تقليدية"},{id:"item-2",name:"قهوة تركي",price:10,calories:8,image:"https://images.pexels.com/photos/1695052/pexels-photo-1695052.jpeg?auto=compress&cs=tinysrgb&w=400",description:"قهوة تركية أصيلة"},{id:"item-3",name:"اسبريسو",price:12,calories:3,image:"https://images.pexels.com/photos/312418/pexels-photo-312418.jpeg?auto=compress&cs=tinysrgb&w=400",description:"قهوة إيطالية كلاسيكية"},{id:"item-4",name:"قهوة اليوم",price:12,calories:5,image:"https://images.pexels.com/photos/1695052/pexels-photo-1695052.jpeg?auto=compress&cs=tinysrgb&w=400",description:"قهوة مختارة خصيصاً لهذا اليوم"},{id:"item-5",name:"اسبريسو ميكاتو",price:13,calories:15,image:"https://images.pexels.com/photos/312418/pexels-photo-312418.jpeg?auto=compress&cs=tinysrgb&w=400",description:"اسبريسو مع رغوة الحليب"},{id:"item-6",name:"أمريكانو",price:13,calories:5,image:"https://images.pexels.com/photos/302899/pexels-photo-302899.jpeg?auto=compress&cs=tinysrgb&w=400",description:"قهوة أمريكية كلاسيكية"},{id:"item-7",name:"قهوة تركي بالحليب",price:13,calories:45,image:"https://images.pexels.com/photos/1695052/pexels-photo-1695052.jpeg?auto=compress&cs=tinysrgb&w=400",description:"قهوة تركية مع الحليب الطازج"},{id:"item-8",name:"كورتادو",price:14,calories:35,image:"https://images.pexels.com/photos/312418/pexels-photo-312418.jpeg?auto=compress&cs=tinysrgb&w=400",description:"اسبريسو مع حليب دافئ"},{id:"item-9",name:"فلات وايت",price:15,calories:120,image:"https://images.pexels.com/photos/302899/pexels-photo-302899.jpeg?auto=compress&cs=tinysrgb&w=400",description:"قهوة أسترالية بالحليب المخملي"},{id:"item-10",name:"لاتيه",price:16,calories:150,popular:!0,image:"https://images.pexels.com/photos/324028/pexels-photo-324028.jpeg?auto=compress&cs=tinysrgb&w=400",description:"قهوة بالحليب الناعم"},{id:"item-11",name:"كابتشينو",price:16,calories:80,popular:!0,image:"https://images.pexels.com/photos/312418/pexels-photo-312418.jpeg?auto=compress&cs=tinysrgb&w=400",description:"قهوة بالحليب المرغي"},{id:"item-12",name:"هوت شوكلت",price:16,calories:200,image:"https://images.pexels.com/photos/302899/pexels-photo-302899.jpeg?auto=compress&cs=tinysrgb&w=400",description:"شوكولاتة ساخنة كريمية"},{id:"item-13",name:"سبانيش لاتيه",price:17,calories:180,image:"https://images.pexels.com/photos/324028/pexels-photo-324028.jpeg?auto=compress&cs=tinysrgb&w=400",description:"لاتيه إسباني بالحليب المكثف"},{id:"item-14",name:"موكا لاتيه",price:17,calories:220,image:"https://images.pexels.com/photos/312418/pexels-photo-312418.jpeg?auto=compress&cs=tinysrgb&w=400",description:"لاتيه بالشوكولاتة"},{id:"item-15",name:"V60",price:19,calories:5,image:"https://images.pexels.com/photos/302899/pexels-photo-302899.jpeg?auto=compress&cs=tinysrgb&w=400",description:"قهوة مقطرة بطريقة V60"}]},{id:"section-cold-coffee",title:"القهوة الباردة",icon:"🧊",items:[{id:"item-16",name:"قهوة اليوم باردة",price:12,calories:5,image:"https://images.pexels.com/photos/302899/pexels-photo-302899.jpeg?auto=compress&cs=tinysrgb&w=400",description:"قهوة اليوم مثلجة ومنعشة"},{id:"item-17",name:"آيس أمريكانو",price:14,calories:5,image:"https://images.pexels.com/photos/312418/pexels-photo-312418.jpeg?auto=compress&cs=tinysrgb&w=400",description:"أمريكانو مثلج منعش"},{id:"item-18",name:"آيس لاتيه",price:17,calories:160,image:"https://images.pexels.com/photos/324028/pexels-photo-324028.jpeg?auto=compress&cs=tinysrgb&w=400",description:"لاتيه مثلج بالحليب البارد"},{id:"item-19",name:"آيس سبانيش لاتيه",price:19,calories:190,image:"https://images.pexels.com/photos/302899/pexels-photo-302899.jpeg?auto=compress&cs=tinysrgb&w=400",description:"لاتيه إسباني مثلج"},{id:"item-20",name:"آيس موكا",price:19,calories:230,image:"https://images.pexels.com/photos/312418/pexels-photo-312418.jpeg?auto=compress&cs=tinysrgb&w=400",description:"موكا مثلج بالشوكولاتة"},{id:"item-21",name:"آيس دريب",price:21,calories:8,image:"https://images.pexels.com/photos/324028/pexels-photo-324028.jpeg?auto=compress&cs=tinysrgb&w=400",description:"قهوة مقطرة باردة"}]},{id:"section-tea",title:"الشاي",icon:"🍵",items:[{id:"item-22",name:"شاي أخضر",price:8,calories:2,description:"شاي أخضر طبيعي مفيد للصحة",image:"https://images.pexels.com/photos/1638280/pexels-photo-1638280.jpeg?auto=compress&cs=tinysrgb&w=400",sizes:[{size:"كاسة",price:8},{size:"براد صغير",price:14},{size:"براد وسط",price:18},{size:"براد كبير",price:25}]},{id:"item-23",name:"شاي أتاي",price:8,calories:15,popular:!0,description:"شاي مغربي تقليدي بالنعناع والسكر",image:"https://images.pexels.com/photos/1638280/pexels-photo-1638280.jpeg?auto=compress&cs=tinysrgb&w=400",sizes:[{size:"كاسة",price:8},{size:"براد صغير",price:14},{size:"براد وسط",price:18},{size:"براد كبير",price:25}]},{id:"item-24",name:"شاي أحمر",price:8,calories:2,description:"شاي أحمر كلاسيكي",image:"https://images.pexels.com/photos/1638280/pexels-photo-1638280.jpeg?auto=compress&cs=tinysrgb&w=400",sizes:[{size:"كاسة",price:8},{size:"براد صغير",price:14},{size:"براد وسط",price:18},{size:"براد كبير",price:25}]}]},{id:"section-juices",title:"العصيرات الطبيعية",icon:"🍹",items:[{id:"item-25",name:"عصير برتقال",price:19,calories:110,image:"https://images.pexels.com/photos/96974/pexels-photo-96974.jpeg?auto=compress&cs=tinysrgb&w=400",description:"عصير برتقال طازج 100%"},{id:"item-26",name:"عصير رمان",price:19,calories:130,image:"https://images.pexels.com/photos/96974/pexels-photo-96974.jpeg?auto=compress&cs=tinysrgb&w=400",description:"عصير رمان طبيعي غني بمضادات الأكسدة"},{id:"item-27",name:"عصير مانجو",price:19,calories:120,image:"https://images.pexels.com/photos/96974/pexels-photo-96974.jpeg?auto=compress&cs=tinysrgb&w=400",description:"عصير مانجو استوائي طازج"},{id:"item-28",name:"عصير ليمون نعناع",price:19,calories:60,image:"https://images.pexels.com/photos/96974/pexels-photo-96974.jpeg?auto=compress&cs=tinysrgb&w=400",description:"عصير ليمون منعش بالنعناع الطازج"},{id:"item-29",name:"عصير أفوكادو",price:21,calories:180,image:"https://images.pexels.com/photos/96974/pexels-photo-96974.jpeg?auto=compress&cs=tinysrgb&w=400",description:"عصير أفوكادو كريمي ومغذي"}]},{id:"section-mocktails",title:"الموكتيلز والموهيتو",icon:"🥤",items:[{id:"item-30",name:"مشروب غازي",price:10,calories:140,image:"https://images.pexels.com/photos/96974/pexels-photo-96974.jpeg?auto=compress&cs=tinysrgb&w=400",description:"مشروب غازي منعش"},{id:"item-31",name:"سفن أب موهيتو",price:19,calories:120,image:"https://images.pexels.com/photos/96974/pexels-photo-96974.jpeg?auto=compress&cs=tinysrgb&w=400",description:"موهيتو منعش بالسفن أب والنعناع"},{id:"item-32",name:"موهيتو ريتا",price:19,calories:90,image:"https://images.pexels.com/photos/96974/pexels-photo-96974.jpeg?auto=compress&cs=tinysrgb&w=400",description:"موهيتو بنكهة الليمون والنعناع"},{id:"item-33",name:"كودرد موهيتو",price:22,calories:110,image:"https://images.pexels.com/photos/96974/pexels-photo-96974.jpeg?auto=compress&cs=tinysrgb&w=400",description:"موهيتو مميز بالفواكه المختلطة"},{id:"item-34",name:"آيس كركديه",price:22,calories:80,image:"https://images.pexels.com/photos/96974/pexels-photo-96974.jpeg?auto=compress&cs=tinysrgb&w=400",description:"كركديه مثلج منعش ومفيد"},{id:"item-35",name:"آيس تي",price:22,calories:70,image:"https://images.pexels.com/photos/96974/pexels-photo-96974.jpeg?auto=compress&cs=tinysrgb&w=400",description:"شاي مثلج بنكهات مختلفة"},{id:"item-36",name:"ريد بول موهيتو",price:23,calories:160,image:"https://images.pexels.com/photos/96974/pexels-photo-96974.jpeg?auto=compress&cs=tinysrgb&w=400",description:"موهيتو منشط بالريد بول"},{id:"item-37",name:"بيرة",price:23,calories:0,image:"https://images.pexels.com/photos/96974/pexels-photo-96974.jpeg?auto=compress&cs=tinysrgb&w=400",description:"بيرة خالية من الكحول"}]},{id:"section-pizza",title:"البيتزا",icon:"🍕",items:[{id:"item-38",name:"بيتزا خضار",price:12,calories:250,description:"بيتزا بالخضار الطازجة والجبن",image:"https://images.pexels.com/photos/315755/pexels-photo-315755.jpeg?auto=compress&cs=tinysrgb&w=400",sizes:[{size:"صغير",price:12},{size:"وسط",price:18},{size:"كبير",price:24}]},{id:"item-39",name:"بيتزا دجاج",price:14,calories:320,popular:!0,description:"بيتزا بقطع الدجاج المشوي والخضار",image:"https://images.pexels.com/photos/315755/pexels-photo-315755.jpeg?auto=compress&cs=tinysrgb&w=400",sizes:[{size:"صغير",price:14},{size:"وسط",price:20},{size:"كبير",price:27}]},{id:"item-40",name:"بيتزا مشكل",price:15,calories:350,description:"بيتزا بخليط من اللحوم والخضار",image:"https://images.pexels.com/photos/315755/pexels-photo-315755.jpeg?auto=compress&cs=tinysrgb&w=400",sizes:[{size:"صغير",price:15},{size:"وسط",price:20},{size:"كبير",price:27}]}]},{id:"section-manakish",title:"المناقيش والفطاير",icon:"🥙",items:[{id:"item-41",name:"مناقيش لبنه عسل",price:15,calories:280,image:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?auto=compress&cs=tinysrgb&w=400",description:"مناقيش باللبنة والعسل الطبيعي"},{id:"item-42",name:"مناقيش جبن",price:15,calories:320,image:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?auto=compress&cs=tinysrgb&w=400",description:"مناقيش بالجبن الطازج"},{id:"item-43",name:"مناقيش عكاوي",price:15,calories:300,image:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?auto=compress&cs=tinysrgb&w=400",description:"مناقيش بجبن العكاوي اللذيذ"},{id:"item-44",name:"مناقيش لحم",price:15,calories:380,image:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?auto=compress&cs=tinysrgb&w=400",description:"مناقيش باللحم المفروم والبهارات"},{id:"item-45",name:"مناقيش دجاج",price:15,calories:350,image:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?auto=compress&cs=tinysrgb&w=400",description:"مناقيش بقطع الدجاج المتبلة"},{id:"item-46",name:"فطاير جبن",price:8,calories:180,image:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?auto=compress&cs=tinysrgb&w=400",description:"فطاير محشية بالجبن"},{id:"item-47",name:"فطاير لبن عسل",price:8,calories:160,image:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?auto=compress&cs=tinysrgb&w=400",description:"فطاير باللبنة والعسل"},{id:"item-48",name:"فطاير دجاج",price:8,calories:200,image:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?auto=compress&cs=tinysrgb&w=400",description:"فطاير محشية بالدجاج"}]},{id:"section-sandwiches",title:"الساندوتش والبرجر",icon:"🥪",items:[{id:"item-49",name:"كروسان",price:12,calories:230,image:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?auto=compress&cs=tinysrgb&w=400",description:"كرواسان فرنسي طازج ومقرمش"},{id:"item-50",name:"ساندوتش ثلاث أجبان",price:15,calories:420,image:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?auto=compress&cs=tinysrgb&w=400",description:"ساندوتش بثلاثة أنواع من الجبن"},{id:"item-51",name:"ساندوتش حلومي",price:15,calories:380,image:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?auto=compress&cs=tinysrgb&w=400",description:"ساندوتش بجبن الحلومي المشوي"},{id:"item-52",name:"ساندوتش فاهيتا",price:15,calories:450,image:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?auto=compress&cs=tinysrgb&w=400",description:"ساندوتش فاهيتا بالدجاج والخضار"},{id:"item-53",name:"سندوتش تونه",price:10,calories:320,image:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?auto=compress&cs=tinysrgb&w=400",description:"ساندوتش تونة بالخضار الطازجة"},{id:"item-54",name:"سندوتش طاكوس دجاج",price:12,calories:380,image:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?auto=compress&cs=tinysrgb&w=400",description:"ساندوتش طاكوس بالدجاج المكسيكي"},{id:"item-55",name:"سندوتش مغربي",price:10,calories:350,image:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?auto=compress&cs=tinysrgb&w=400",description:"ساندوتش بالطعم المغربي الأصيل"},{id:"item-56",name:"سندوتش معقوده",price:10,calories:300,image:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?auto=compress&cs=tinysrgb&w=400",description:"ساندوتش معقودة تقليدي"},{id:"item-57",name:"برجر دجاج",price:12,calories:520,popular:!0,image:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?auto=compress&cs=tinysrgb&w=400",description:"برجر دجاج مشوي مع الخضار"},{id:"item-58",name:"برجر لحم",price:12,calories:580,popular:!0,image:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?auto=compress&cs=tinysrgb&w=400",description:"برجر لحم طازج مع الإضافات"}]},{id:"section-desserts",title:"الحلى",icon:"🍰",items:[{id:"item-59",name:"كوكيز",price:12,calories:150,image:"https://images.pexels.com/photos/230325/pexels-photo-230325.jpeg?auto=compress&cs=tinysrgb&w=400",description:"كوكيز محضر طازج بالشوكولاتة"},{id:"item-60",name:"كيك عسل",price:20,calories:320,image:"https://images.pexels.com/photos/230325/pexels-photo-230325.jpeg?auto=compress&cs=tinysrgb&w=400",description:"كيك العسل الطبيعي الشهي"},{id:"item-61",name:"كيك تمر",price:20,calories:280,image:"https://images.pexels.com/photos/230325/pexels-photo-230325.jpeg?auto=compress&cs=tinysrgb&w=400",description:"كيك التمر الصحي واللذيذ"},{id:"item-62",name:"سان سبيستيان",price:22,calories:380,image:"https://images.pexels.com/photos/230325/pexels-photo-230325.jpeg?auto=compress&cs=tinysrgb&w=400",description:"تشيز كيك سان سبيستيان الإسباني"},{id:"item-63",name:"كيك نوتيلا",price:22,calories:420,popular:!0,image:"https://images.pexels.com/photos/230325/pexels-photo-230325.jpeg?auto=compress&cs=tinysrgb&w=400",description:"كيك النوتيلا الكريمي الشهير"},{id:"item-64",name:"كرانشي كيك",price:22,calories:450,image:"https://images.pexels.com/photos/230325/pexels-photo-230325.jpeg?auto=compress&cs=tinysrgb&w=400",description:"كيك مقرمش بطبقات الشوكولاتة"}]},{id:"section-shisha",title:"الشيشة",icon:"💨",items:[{id:"item-65",name:"معسل بلو بيري",price:35,calories:0,image:"https://images.pexels.com/photos/96974/pexels-photo-96974.jpeg?auto=compress&cs=tinysrgb&w=400",description:"معسل بنكهة التوت الأزرق المنعشة"},{id:"item-66",name:"معسل تفاحتين",price:35,calories:0,popular:!0,image:"https://images.pexels.com/photos/96974/pexels-photo-96974.jpeg?auto=compress&cs=tinysrgb&w=400",description:"معسل التفاحتين الكلاسيكي المحبوب"},{id:"item-67",name:"معسل عنب توت",price:35,calories:0,image:"https://images.pexels.com/photos/96974/pexels-photo-96974.jpeg?auto=compress&cs=tinysrgb&w=400",description:"معسل بخليط العنب والتوت"},{id:"item-68",name:"معسل عنب نعناع",price:35,calories:0,image:"https://images.pexels.com/photos/96974/pexels-photo-96974.jpeg?auto=compress&cs=tinysrgb&w=400",description:"معسل العنب مع النعناع المنعش"},{id:"item-69",name:"معسل ليمون نعناع",price:35,calories:0,image:"https://images.pexels.com/photos/96974/pexels-photo-96974.jpeg?auto=compress&cs=tinysrgb&w=400",description:"معسل الليمون والنعناع المنعش"},{id:"item-70",name:"معسل مستكة",price:35,calories:0,image:"https://images.pexels.com/photos/96974/pexels-photo-96974.jpeg?auto=compress&cs=tinysrgb&w=400",description:"معسل المستكة العربية الأصيلة"},{id:"item-71",name:"معسل ميكس",price:35,calories:0,image:"https://images.pexels.com/photos/96974/pexels-photo-96974.jpeg?auto=compress&cs=tinysrgb&w=400",description:"خليط من النكهات المختارة"},{id:"item-72",name:"معسل نعناع",price:35,calories:0,image:"https://images.pexels.com/photos/96974/pexels-photo-96974.jpeg?auto=compress&cs=tinysrgb&w=400",description:"معسل النعناع الطازج والمنعش"},{id:"item-73",name:"معسل نخلة",price:35,calories:0,image:"https://images.pexels.com/photos/96974/pexels-photo-96974.jpeg?auto=compress&cs=tinysrgb&w=400",description:"معسل النخلة الفاخر"},{id:"item-74",name:"تغيير رأس",price:25,calories:0,image:"https://images.pexels.com/photos/96974/pexels-photo-96974.jpeg?auto=compress&cs=tinysrgb&w=400",description:"تغيير رأس الشيشة بنكهة جديدة"},{id:"item-75",name:"إضافة ثلج",price:5,calories:0,image:"https://images.pexels.com/photos/96974/pexels-photo-96974.jpeg?auto=compress&cs=tinysrgb&w=400",description:"إضافة الثلج للشيشة لتجربة أكثر انتعاشاً"}]}],R0=[{id:"offer-1",title:"عرض الإفطار المميز",description:"قهوة + كرواسون + عصير طازج",originalPrice:43,offerPrice:35,validUntil:"31 ديسمبر 2024",calories:355},{id:"offer-2",title:"عرض المساء الخاص",description:"شاي أتاي + كيك نوتيلا + كوكيز",originalPrice:54,offerPrice:45,validUntil:"31 ديسمبر 2024",calories:585},{id:"offer-3",title:"عرض البيتزا العائلي",description:"بيتزا كبيرة + مشروبين غازي",originalPrice:44,offerPrice:35,validUntil:"31 ديسمبر 2024",calories:630}],A0=()=>{const[t,e]=A.useState([]),[r,n]=A.useState([]),[s,i]=A.useState([]),[o,l]=A.useState(!0),[a,u]=A.useState(null),[d,h]=A.useState(!1),m=async()=>{try{console.log("🔍 Testing Supabase connection...");const v="https://ubvaooxyfpxlkpcmhdfl.supabase.co",k="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVidmFvb3h5ZnB4bGtwY21oZGZsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIwODQ1NDIsImV4cCI6MjA2NzY2MDU0Mn0.yoNi7slVWd4w3uPGpp2n-BTa2IS9h_zT4kmPg7jjIJU",{data:j,error:P}=await G.from("menu_sections").select("id").limit(1);return P?(console.error("❌ Supabase connection failed:",P),h(!1),!1):(console.log("✅ Supabase connected successfully"),h(!0),!0)}catch(v){return console.error("❌ Supabase connection error:",v),h(!1),!1}},y=async()=>{try{console.log("📋 Fetching menu sections...");const{data:v,error:k}=await G.from("menu_sections").select("*").order("order_index");if(k)throw k;return console.log(`✅ Menu sections fetched: ${(v==null?void 0:v.length)||0} sections`),e(v||[]),v||[]}catch(v){throw console.error("❌ Error fetching menu sections:",v),v}},x=async()=>{try{console.log("🍽️ Fetching menu items...");const{data:v,error:k}=await G.from("menu_items").select(`
          *,
          sizes:menu_item_sizes(*)
        `).order("order_index");if(k)throw k;return console.log(`✅ Menu items fetched: ${(v==null?void 0:v.length)||0} items`),n(v||[]),v||[]}catch(v){throw console.error("❌ Error fetching menu items:",v),v}},_=async()=>{try{console.log("🎁 Fetching special offers...");const{data:v,error:k}=await G.from("special_offers").select("*").order("created_at",{ascending:!1});if(k)throw k;return console.log(`✅ Special offers fetched: ${(v==null?void 0:v.length)||0} offers`),i(v||[]),v||[]}catch(v){throw console.error("❌ Error fetching special offers:",v),v}},N=()=>!d||t.length===0?(console.log("🔄 Using fallback menu sections"),$0):(console.log(`🔄 Formatting ${t.length} Supabase menu sections`),t.map(v=>{const k=r.filter(j=>j.section_id===v.id&&j.available).map(j=>{var P;return{id:j.id,name:j.name,description:j.description,price:j.price,image:j.image,popular:j.popular,new:j.new,available:j.available,order_index:j.order_index,created_at:j.created_at,updated_at:j.updated_at,sizes:(P=j.sizes)==null?void 0:P.map(w=>({size:w.size,price:w.price}))}});return console.log(`📋 Section "${v.title}": ${k.length} items`),{id:v.id,title:v.title,icon:v.icon,image:v.image,items:k}})),g=()=>!d||s.length===0?(console.log("🔄 Using fallback special offers"),R0):(console.log(`🔄 Formatting ${s.length} Supabase special offers`),s.filter(v=>v.active).map(v=>({id:v.id,title:v.title,description:v.description,originalPrice:v.original_price,offerPrice:v.offer_price,validUntil:v.valid_until,image:v.image})));A.useEffect(()=>{(async()=>{l(!0),u(null);try{console.log("🚀 Starting data load..."),await m()?(console.log("📡 Loading data from Supabase..."),await Promise.allSettled([y(),x(),_()]),console.log("✅ All data loaded successfully from Supabase")):(console.log("⚠️ Supabase not connected, using fallback data"),u("تم تحميل البيانات الافتراضية بنجاح"))}catch(k){console.error("❌ Failed to load data:",k),u("تم تحميل البيانات الافتراضية بنجاح"),h(!1)}finally{l(!1),console.log("🏁 Data loading completed")}})()},[]);const p=N(),f=g();return console.log("Final data check:",{menuSectionsCount:p.length,specialOffersCount:f.length,isSupabaseConnected:d,loading:o}),{menuSections:p,specialOffers:f,loading:o,error:a,isSupabaseConnected:d,refreshData:async()=>{if(d){console.log("🔄 Refreshing data...");try{await Promise.all([y(),x(),_()])}catch(v){console.error("❌ Error refreshing data:",v)}}}}},L0=()=>{const[t,e]=A.useState([]),[r,n]=A.useState(!1),[s,i]=A.useState(""),o=(m,y,x)=>{const _={...m,id:m.id.toString(),quantity:1,selectedSize:y,selectedPrice:x||m.price};e(N=>N.find(p=>p.id.toString()===m.id.toString()&&p.selectedSize===y)?N.map(p=>p.id.toString()===m.id.toString()&&p.selectedSize===y?{...p,quantity:p.quantity+1}:p):[...N,_])},l=(m,y)=>{e(x=>x.filter(_=>!(_.id.toString()===m.toString()&&_.selectedSize===y)))};return{cartItems:t,isCartOpen:r,setIsCartOpen:n,tableNumber:s,setTableNumber:i,addToCart:o,removeFromCart:l,updateQuantity:(m,y,x)=>{if(y<=0){l(m,x);return}e(_=>_.map(N=>N.id.toString()===m.toString()&&N.selectedSize===x?{...N,quantity:y}:N))},getTotalPrice:()=>t.reduce((m,y)=>m+(y.selectedPrice||y.price)*y.quantity,0),getTotalItems:()=>t.reduce((m,y)=>m+y.quantity,0),clearCart:()=>{e([])}}};function z0(){const[t,e]=A.useState("home"),[r,n]=A.useState(!1),[s,i]=A.useState(!1),[o,l]=A.useState(!1),[a,u]=A.useState(0),{menuSections:d,specialOffers:h,loading:m,error:y,isSupabaseConnected:x}=A0(),{cartItems:_,isCartOpen:N,setIsCartOpen:g,tableNumber:p,setTableNumber:f,addToCart:v,removeFromCart:k,updateQuantity:j,getTotalPrice:P,getTotalItems:w,clearCart:S}=L0(),C=[{id:"Nu8kIIL-CDA",title:"إعلان القهوة التجاري"},{id:"T3AHBe0I0yc",title:"أجواء مقهى موال مراكش"}],I=zh.useMemo(()=>{const ie=[...d];if(h&&h.length>0){const b=h.map(Ae=>({id:`offer-${Ae.id}`,name:Ae.title,description:Ae.description,price:Ae.offerPrice,image:Ae.image,popular:!0,new:!0,available:!0,originalPrice:Ae.originalPrice,isOffer:!0}));ie.unshift({id:"special-offers",title:"العروض الخاصة",icon:"🎁",items:b})}return ie},[d,h]),Y=I.find(ie=>ie.id===t),te=()=>{o?n(!0):i(!0)};return console.log("App State:",{loading:m,error:y,isSupabaseConnected:x,allSectionsCount:I.length,specialOffersCount:h.length,activeSection:t,currentSection:Y?Y.title:"Not found"}),m?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-yellow-50 font-['Tajawal'] flex items-center justify-center",children:c.jsx(wh,{message:"جاري تحميل المنيو..."})}):!m&&I.length===0?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-yellow-50 font-['Tajawal'] flex items-center justify-center",children:c.jsxs("div",{className:"text-center bg-white/90 backdrop-blur-md rounded-2xl p-8 shadow-xl border border-red-200/50 m-4",children:[c.jsx("h2",{className:"text-2xl font-bold text-red-800 mb-4",dir:"rtl",children:"خطأ في تحميل البيانات"}),c.jsx("p",{className:"text-red-600 mb-4",dir:"rtl",children:"لم يتم العثور على بيانات المنيو. يرجى المحاولة مرة أخرى."}),c.jsx("button",{onClick:()=>window.location.reload(),className:"bg-red-500 text-white px-6 py-2 rounded-lg hover:bg-red-600 transition-colors",dir:"rtl",children:"إعادة تحميل الصفحة"})]})}):c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-yellow-50 font-['Tajawal']",children:[t==="home"&&c.jsxs("div",{className:"fixed inset-0 z-0",children:[c.jsx("div",{className:"absolute inset-0 bg-black",children:c.jsx("iframe",{src:`https://www.youtube.com/embed/${C[a].id}?autoplay=1&mute=1&controls=0&showinfo=0&rel=0&modestbranding=1&loop=1&playlist=${C[a].id}&start=0`,className:"w-full h-full object-cover",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})}),c.jsx("div",{className:"absolute inset-0 bg-black/60"}),c.jsx("div",{className:"absolute bottom-4 right-4 flex gap-2 z-10",children:C.map((ie,b)=>c.jsx("button",{onClick:()=>u(b),className:`w-3 h-3 rounded-full transition-all ${b===a?"bg-amber-500 scale-125":"bg-white/50 hover:bg-white/70"}`},b))})]}),c.jsx(dm,{}),y&&c.jsx("div",{className:"bg-green-100 border-l-4 border-green-500 text-green-700 p-4 relative z-30",children:c.jsx("div",{className:"flex",children:c.jsx("div",{className:"ml-3",children:c.jsx("p",{className:"text-sm",dir:"rtl",children:"✅ تم تحميل البيانات بنجاح - المنيو جاهز للاستخدام"})})})}),x&&c.jsx("div",{className:"bg-green-100 border-l-4 border-green-500 text-green-700 p-4 relative z-30",children:c.jsx("div",{className:"flex",children:c.jsx("div",{className:"ml-3",children:c.jsx("p",{className:"text-sm",dir:"rtl",children:"✅ تم ربط المنيو بقاعدة البيانات بنجاح - جميع التعديلات ستُحفظ تلقائياً"})})})}),c.jsxs("div",{className:"fixed top-4 left-4 z-50 flex flex-col gap-3",children:[c.jsxs("button",{onClick:()=>g(!0),className:"text-white p-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 flex items-center gap-2",style:{background:"linear-gradient(to right, #c4a484, #b8956f)"},children:[c.jsx(am,{className:"w-5 h-5"}),w()>0&&c.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:w()})]}),c.jsx("button",{onClick:te,className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white p-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-300",title:"لوحة التحكم",children:c.jsx(om,{className:"w-5 h-5"})})]}),c.jsx("main",{className:"max-w-7xl mx-auto px-4 py-8 relative z-10",children:t==="home"?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-center mb-12",children:c.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-2xl p-8 shadow-2xl border",style:{borderColor:"#87512f50"},children:[c.jsx("h2",{className:"text-3xl font-bold mb-4",dir:"rtl",style:{color:"#87512f"},children:"أهلاً وسهلاً بكم في موال مراكش"}),c.jsx("p",{className:"text-gray-800 text-lg leading-relaxed max-w-3xl mx-auto",dir:"rtl",children:"استمتعوا بتجربة قهوة استثنائية في أجواء مغربية أصيلة. نقدم لكم أجود أنواع القهوة والمشروبات والحلويات المغربية التقليدية في قلب المدينة المنورة"})]})}),I.length>0&&c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"bg-white/90 backdrop-blur-md rounded-2xl p-6 shadow-xl border mb-6",style:{borderColor:"#87512f50"},children:c.jsx("h2",{className:"text-2xl font-bold mb-4",dir:"rtl",style:{color:"#87512f"},children:"اختر من قائمة الطعام"})}),c.jsx(fm,{sections:I,activeSection:t,onSectionChange:e})]})]}):c.jsxs("div",{children:[c.jsx("div",{className:"mb-6",children:c.jsxs("button",{onClick:()=>e("home"),className:"flex items-center gap-2 transition-colors bg-white/90 backdrop-blur-md px-4 py-2 rounded-lg shadow-lg",style:{color:"#87512f"},dir:"rtl",children:[c.jsx(Xp,{className:"w-5 h-5"}),c.jsx("span",{children:"العودة للرئيسية"})]})}),Y&&c.jsx(pm,{title:Y.title,items:Y.items,icon:Y.icon,onAddToCart:v}),!Y&&c.jsx("div",{className:"text-center py-12",children:c.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-2xl p-8 shadow-xl border",style:{borderColor:"#87512f50"},children:[c.jsx("h2",{className:"text-2xl font-bold mb-4",dir:"rtl",style:{color:"#87512f"},children:"القسم غير موجود"}),c.jsx("p",{className:"text-gray-600 mb-4",dir:"rtl",children:"لم يتم العثور على هذا القسم في المنيو"}),c.jsx("button",{onClick:()=>e("home"),className:"text-white px-6 py-2 rounded-lg transition-colors",style:{backgroundColor:"#87512f"},dir:"rtl",children:"العودة للرئيسية"})]})})]})}),c.jsx(hm,{}),c.jsx("div",{className:"relative z-50",children:c.jsx(mm,{isOpen:N,onClose:()=>g(!1),cartItems:_,tableNumber:p,setTableNumber:f,updateQuantity:j,removeFromCart:k,getTotalPrice:P,clearCart:S})}),c.jsx("div",{className:"relative z-50",children:c.jsx(O0,{isOpen:r,onClose:()=>n(!1)})}),c.jsx("div",{className:"relative z-50",children:c.jsx(I0,{isOpen:s,onClose:()=>i(!1),onLogin:()=>l(!0)})})]})}qd(document.getElementById("root")).render(c.jsx(A.StrictMode,{children:c.jsx(z0,{})}));
